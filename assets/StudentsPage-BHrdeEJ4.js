import{s as w,a as S}from"./index-Basr6SgB.js";import{s as F}from"./index-C2VGn34J.js";import{a as N,b as V}from"./index-B3FyAfXF.js";import{s as I}from"./index-CcOmcd2I.js";import{e as k,r as m,h as x,o as u,c,i as t,w as a,k as s,t as l,v as C,l as f,aO as A}from"./index-DQn5ZYl0.js";import{S as M}from"./schoolApi-Dbwwphby.js";import{m as T}from"./mapStudentFromDto-D4MSietx.js";import"./index-C86npGpF.js";import"./index-CGE0H421.js";import"./index-Rl-CCQmB.js";import"./index-Co7GcC06.js";import"./index-Cu3ZACoi.js";import"./index-CM2fFdpc.js";import"./index-vLnyvI37.js";import"./index-Bvn2uahL.js";import"./index-B3UsecUj.js";const B={class:"flex-grow min-w-0 pb-4 mb-4 bg-white rounded-md border"},D={class:"flex items-center"},O={class:"flex-grow flex gap-2 items-center"},P={key:0,class:"text-2xl"},ae=k({__name:"StudentsPage",setup(U){const p=m(!1),d=m([]),h=m(),n=m();(()=>{n.value={global:{value:null,matchMode:A.CONTAINS}}})();async function g(){try{p.value=!0;const{data:e}=await M.getStudents();d.value=(e==null?void 0:e.map(T))??[]}catch(e){console.log(e)}finally{p.value=!1}}return x(g),(e,r)=>{const v=N,_=I,b=V,$=F,i=w,y=S;return u(),c("div",B,[t(y,{ref_key:"dt",ref:h,filters:n.value,"onUpdate:filters":r[1]||(r[1]=o=>n.value=o),value:d.value,dataKey:"id",loading:p.value,scrollable:"",globalFilterFields:["name","email"],class:"rounded-md overflow-hidden w-full",paginator:"",rows:10,rowsPerPageOptions:[5,10,25]},{header:a(()=>[s("div",D,[s("div",O,[d.value?(u(),c("div",P,l(e.$t("pages.school.students"))+" - "+l(d.value.length),1)):C("",!0)]),t(b,null,{default:a(()=>[t(v,null,{default:a(()=>r[2]||(r[2]=[s("i",{class:"pi pi-search"},null,-1)])),_:1}),t(_,{modelValue:n.value.global.value,"onUpdate:modelValue":r[0]||(r[0]=o=>n.value.global.value=o),placeholder:e.$t("pages.school.search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:a(()=>[f(l(e.$t("pages.school.noStudentsFound")),1)]),loading:a(()=>[f(l(e.$t("pages.school.loadingStudents")),1)]),default:a(()=>[t(i,{field:"avatar",header:e.$t("pages.school.avatar"),sortable:""},{body:a(({data:o})=>[t($,{image:o.smallAvatarUrl},null,8,["image"])]),_:1},8,["header"]),t(i,{field:"name",header:e.$t("pages.school.name"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.name}`),1)]),_:1},8,["header"]),t(i,{field:"email",header:e.$t("pages.school.email"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.email}`),1)]),_:1},8,["header"]),t(i,{field:"class",header:e.$t("pages.school.class"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.className}`),1)]),_:1},8,["header"]),t(i,{field:"xp",header:e.$t("pages.school.xp"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.xp}`),1)]),_:1},8,["header"])]),_:1},8,["filters","value","loading"])])}}});export{ae as default};
