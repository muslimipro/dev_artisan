import"./store-BrpL4K3A.js";import{S as b}from"./SimulationView-DKT76jP9.js";import{_ as M,a as _}from"./CodeEditorView.vue_vue_type_script_setup_true_lang-BOB6hYEr.js";import"./IdeButtons.vue_vue_type_script_setup_true_lang-Cf3a_6oe.js";import{e as y,r as f,a5 as z,B as R,o as B,c as U,k as d,h as a,L as h,a as i}from"./index-BXslawiU.js";const V={key:0,class:"flex flex-col w-full"},P={class:"h-full flex flex-col w-full overflow-hidden"},N={class:"flex-grow overflow-auto"},S={key:1,class:"flex flex-row w-full"},$={class:"flex flex-col w-full overflow-hidden"},C={class:"h-full flex-grow overflow-auto"},A=y({__name:"PibodyViewer",props:{id:{},content:{},data:{},state:{},starting:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0}},emits:["run","save-answer"],setup(g,{emit:k}){var w;const u=f(!0),t=g,c=k,l=f(""),s=f([]),n=((w=t.data)==null?void 0:w.neededModules)??[];z(()=>{var e,o,p,m,x;const r=((o=(e=t.state)==null?void 0:e.answer)==null?void 0:o.code)??"";l.value=t.starting||r==""?(p=t.content)==null?void 0:p.starting:r,s.value=((x=(m=t.state)==null?void 0:m.answer)==null?void 0:x.slots)??[]}),R([l,s],()=>{c("save-answer",{code:l.value,slots:s.value})});function v(){c("run")}return(r,e)=>t.horizontal?(B(),U("div",V,[d(a(b),{class:"w-full",slots:s.value,"onUpdate:slots":e[0]||(e[0]=o=>s.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[1]||(e[1]=o=>h(n)?n.value=o:null),id:t.id,horizontal:!0},null,8,["slots","neededModules","id"]),i("div",P,[i("div",N,[d(M,{code:l.value,"onUpdate:code":e[2]||(e[2]=o=>l.value=o),connectbuttons:u.value,"onUpdate:connectbuttons":e[3]||(e[3]=o=>u.value=o),id:t.id,onRun:v,class:"w-full h-full"},null,8,["code","connectbuttons","id"])]),d(a(_),{id:t.id,class:"max-h-40 border-t"},null,8,["id"])])])):(B(),U("div",S,[i("div",$,[i("div",C,[d(M,{code:l.value,"onUpdate:code":e[4]||(e[4]=o=>l.value=o),connectbuttons:u.value,"onUpdate:connectbuttons":e[5]||(e[5]=o=>u.value=o),id:t.id,onRun:v,class:"w-full h-full"},null,8,["code","connectbuttons","id"])]),d(a(_),{id:t.id,class:"max-h-40 border-t"},null,8,["id"])]),d(a(b),{class:"max-w-[467px] w-full",slots:s.value,"onUpdate:slots":e[6]||(e[6]=o=>s.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[7]||(e[7]=o=>h(n)?n.value=o:null),id:t.id,horizontal:!1},null,8,["slots","neededModules","id"])]))}});export{A as _};
