import{O as m,o as x,v as w,p as g,M as h,q,P as k,s as P,t as f,w as p,x as i,y as r,z as M}from"./CodeEditorView.vue_vue_type_script_setup_true_lang-CcZR8S8L.js";import{a as C,b as a,e as o,g as t,h as s,t as n,J as l,c as T,F as y,D as V,K as A,k as F,ag as I}from"./index-DzQ9i4kW.js";import{b as N,h as $}from"./http-gL39vg9U.js";const R={key:0,class:"text-nowrap"},U={key:0,class:"text-white"},j={key:1,class:"text-white"},D={key:2,class:"text-white"},G={key:3,class:"text-white"},L={key:4,class:"text-white"},O={key:5,class:"text-black w-full"},B={class:"text-center font-mono px-1 text-white bg-black"},E={key:6,class:"text-black w-full"},W={class:"text-center font-mono px-1 text-white bg-black"},z={key:7,class:"text-black w-full p-3"},K={key:8,class:"text-white w-full"},J={key:9,class:"text-white w-full"},X={key:10,class:"text-white w-full"},H={key:11,class:"text-white w-full"},Q={key:12,class:"text-black w-full"},Y={class:"text-center font-mono px-1 text-white bg-black"},Z={key:13,class:"text-white"},_={key:14,class:"text-black w-full"},ee={key:1,class:"text-center p-3"},Pe=C({__name:"FeedbackNode",props:{message:{type:Object,required:!0}},setup(e){return(u,d)=>e.message?(a(),o("div",R,[e.message.command===t(m).PinSetValue?(a(),o("div",U,[s("div",{style:l({background:t(x)}),class:"text-center font-mono px-1"},"Pin "+n(e.message.request.pin)+" set value",5),s("div",{style:l(t(g)(e.message.request.value)),class:"text-center font-mono px-1"}," Value "+n(t(w)(e.message.request.value)),5)])):e.message.command===t(m).PinSetMode?(a(),o("div",j,[s("div",{style:l({background:t(x)}),class:"text-center font-mono px-1"},"Pin "+n(e.message.request.pin)+" set mode",5),s("div",{style:l({background:t(q)[e.message.request.mode]}),class:"text-center font-mono px-1"}," Mode "+n(t(h)[e.message.request.mode]),5)])):e.message.command===t(m).PinSetPull?(a(),o("div",D,[s("div",{style:l({background:t(x)}),class:"text-center font-mono px-1"},"Pin "+n(e.message.request.pin)+" set pull",5),s("div",{style:l({background:t(P)[e.message.request.pull]}),class:"text-center font-mono px-1"}," Pull "+n(t(k)[e.message.request.pull]),5)])):e.message.command===t(m).PwmDutyU16?(a(),o("div",G,[s("div",{style:l({background:t(x)}),class:"text-center font-mono px-1"},"PWM "+n(e.message.request.pin)+" set duty",5),s("div",{style:l(t(g)(e.message.request.duty_u16/t(f))),class:"text-center font-mono px-1"}," u16 "+n(e.message.request.duty_u16),5)])):e.message.command===t(m).PwmFreq?(a(),o("div",L,[s("div",{style:l({background:t(x)}),class:"text-center font-mono px-1"},"PWM "+n(e.message.request.pin)+" set freq",5),s("div",{style:l(t(g)(e.message.request.freq/t(f))),class:"text-center font-mono px-1"}," Freq "+n(e.message.request.freq),5)])):e.message.command===t(m).Output?(a(),o("div",O,[d[0]||(d[0]=s("div",{class:"text-center px-1"},"Print",-1)),s("div",B,n(e.message.request.output),1)])):e.message.command===t(m).Sleep?(a(),o("div",E,[d[1]||(d[1]=s("div",{class:"text-center px-1"},"Sleep",-1)),s("div",W,n(e.message.request.time_ms)+" ms",1)])):e.message.command===t(p).Timeout?(a(),o("div",z," Timeout ")):e.message.command===t(i).PinGetValue?(a(),o("div",K,[s("div",{style:l({background:t(r)}),class:"text-center font-mono px-1"},"Pin "+n(e.message.request.pin)+" get value",5),s("div",{style:l(t(g)(e.message.result)),class:"text-center font-mono px-1"}," Value "+n(t(w)(e.message.result)),5)])):e.message.command===t(i).PinGetMode?(a(),o("div",J,[s("div",{style:l({background:t(r)}),class:"text-center font-mono px-1"},"Pin "+n(e.message.request.pin)+" get mode",5),s("div",{style:l({background:t(q)[e.message.result]}),class:"text-center font-mono px-1"}," Mode "+n(t(h)[e.message.result]),5)])):e.message.command===t(i).PinGetPull?(a(),o("div",X,[s("div",{style:l({background:t(r)}),class:"text-center font-mono px-1"},"Pin "+n(e.message.request.pin)+" get pull",5),s("div",{style:l({background:t(P)[e.message.result]}),class:"text-center font-mono px-1"}," Pull "+n(t(k)[e.message.result]),5)])):e.message.command===t(i).AdcReadU16?(a(),o("div",H,[s("div",{style:l({background:t(r)}),class:"text-center font-mono px-1"},"ADC "+n(e.message.request.pin)+" read",5),s("div",{style:l(t(g)(e.message.result/t(f))),class:"text-center font-mono px-1"}," u16 "+n(e.message.result),5)])):e.message.command===t(i).Input?(a(),o("div",Q,[d[2]||(d[2]=s("div",{class:"text-center px-1"},"Input",-1)),s("div",Y,n(e.message.result),1)])):e.message.command===t(m).NeoPixelWrite?(a(),o("div",Z,[s("div",{style:l({background:t(x)}),class:"text-center font-mono px-1"},"Pin "+n(e.message.request.pin)+" write pixels",5),s("div",{style:l(t(g)(0)),class:"text-center font-mono px-1"}," pixels("+n(e.message.request.pixels.length)+") ",5)])):(a(),o("div",_," Todo: "+n(e.message.command),1))])):(a(),o("div",ee," Nothing "))}}),te={class:"flex-col overflow-auto"},se={class:"flex"},ne={key:0,class:"flex text-white border-2 border-blue-500"},ae={class:"text-black text-nowrap"},oe={key:1,class:"flex text-white border-2 border-blue-500"},le={class:"text-black text-nowrap"},ce={key:2,class:"flex text-white border-2 border-blue-500"},de={class:"text-black text-nowrap"},ie={key:3,class:"flex text-white border-2 border-blue-500"},re={class:"text-black text-nowrap"},me={key:4,class:"flex text-white border-2 border-blue-500"},ue={class:"text-black text-nowrap"},xe={key:5,class:"flex text-black border-2 border-blue-500"},Ce=C({__name:"Inputs",props:{inputs:{}},setup(e){const u=T(()=>{const d=[];for(let[b,c]of e.inputs){const v=M(b);d.push({...v,result:c})}return d});return(d,b)=>(a(),o(y,null,[u.value.length===0?(a(),o(y,{key:0},[V("Nothing")],64)):A("",!0),s("div",te,[(a(!0),o(y,null,F(u.value,c=>(a(),o("div",se,[c.command===t(i).PinGetValue?(a(),o("div",ne,[s("div",{style:l({background:t(r)}),class:"text-center text-nowrap font-mono px-1"},"Pin "+n(c.request.pin)+" get values:",5),s("div",ae,n(c.result),1)])):c.command===t(i).PinGetMode?(a(),o("div",oe,[s("div",{style:l({background:t(r)}),class:"text-center text-nowrap font-mono px-1"},"Pin "+n(c.request.pin)+" get values:",5),s("div",le,n(c.result.map(v=>t(h)[v])),1)])):c.command===t(i).PinGetPull?(a(),o("div",ce,[s("div",{style:l({background:t(r)}),class:"text-center text-nowrap font-mono px-1"},"Pin "+n(c.request.pin)+" get values:",5),s("div",de,n(c.result.map(v=>t(k)[v])),1)])):c.command===t(i).AdcReadU16?(a(),o("div",ie,[s("div",{style:l({background:t(r)}),class:"text-center text-nowrap font-mono px-1"},"ADC "+n(c.request.pin)+" read u16:",5),s("div",re,n(c.result),1)])):c.command===t(i).Input?(a(),o("div",me,[s("div",{style:l({background:t(r)}),class:"text-center text-nowrap font-mono px-1"},"Console input:",4),s("div",ue,n(c.result),1)])):(a(),o("div",xe,"TODO: "+n(c.command),1))]))),256))])],64))}}),S=N.create({baseURL:I,headers:{Accept:"application/json","Content-Type":"application/json"},withCredentials:!0});S.interceptors.request.use(ge,ve);S.interceptors.response.use(fe,ye);function ge(e){const u=localStorage.getItem("selectedLanguage")||"en";return e.headers["X-User-Language"]=u,e}async function ve(e){return Promise.reject(e)}function fe(e){return e}async function ye(e){return console.log(e),Promise.reject(e)}const $e={uploadFile:he,deleteFile:ke};async function he(e,u=""){return await $.post("v2/lesson/upload-file?prefix="+u,e,{headers:{"Content-Type":"multipart/form-data"}})}async function ke(e){return await $.delete("v2/lesson/delete-file",{params:{url:e}})}export{$e as C,Pe as _,Ce as a};
