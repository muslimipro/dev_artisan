import{s as V}from"./index-B45JFP4L.js";import{e as h,r as d,C,o as e,c,k as B,a as g,t as o,i as a,w as i,G as l,j as u,h as v,F as N,K as S,n as T,l as w}from"./index-BXslawiU.js";import{s as x}from"./index-BbHqUexW.js";import{O as E}from"./otherApi-mbQmFMOk.js";import{_ as A}from"./AuthHeader.vue_vue_type_script_setup_true_lang-B__47yXd.js";import"./index-D5RqcZfo.js";import"./index-C3n_x_8f.js";import"./logo-D1-3uCnC.js";const F={class:"card flex flex-col items-center pt-4 gap-4"},I={class:"text-2xl"},M={key:0},O={key:1},z=h({__name:"VerifyEmail",setup(R){const _=S(),p=T(),s=d(!1),r=d(null);async function y(){s.value=!0;try{await E.verifyEmail(_.query.token),r.value=!0}catch(t){r.value=!1,console.log(t)}finally{s.value=!1}}return C(()=>{y()}),(t,n)=>{const m=x,f=w,k=V;return e(),c(N,null,[B(A),g("div",F,[g("div",I,o(t.$t("pages.login.emailVerification")),1),s.value?u("",!0):(e(),c("div",M,[r.value==!0?(e(),a(m,{key:0,severity:"success"},{default:i(()=>[l(o(t.$t("pages.login.emailSuccessfullyVerified")),1)]),_:1})):(e(),a(m,{key:1,severity:"error"},{default:i(()=>[l(o(t.$t("pages.login.tokenIsInvalidTryAgain")),1)]),_:1}))])),s.value?u("",!0):(e(),c("div",O,[r.value==!0?(e(),a(f,{key:0,onClick:n[0]||(n[0]=$=>v(p).replace("/"))},{default:i(()=>[l(o(t.$t("pages.login.goToHome")),1)]),_:1})):(e(),a(f,{key:1,onClick:n[1]||(n[1]=$=>v(p).replace("/settings/change-email"))},{default:i(()=>[l(o(t.$t("pages.login.goToSettings")),1)]),_:1}))])),s.value?(e(),a(k,{key:2})):u("",!0)])],64)}}});export{z as default};
