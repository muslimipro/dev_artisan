import{e as _,u as f,r,C as g,o as i,c as v,a as s,t as h,i as y,w as k,k as w,h as n,j as b,K as x,n as B,l as C}from"./index-8eYd0-Co.js";import{_ as O}from"./SchoolsTable.vue_vue_type_script_setup_true_lang-CxzjKPBt.js";import{O as z}from"./organizationApi-gIYQrHV3.js";import"./index-D24MRCgv.js";import"./index-DRGFISwW.js";import"./index-VgJXLjdG.js";import"./index-CQCkvxda.js";import"./index-B3NttIqY.js";import"./index-eKsVto-V.js";import"./index-CsjCzc3Q.js";import"./index-DW8h8G0I.js";import"./index-BB-HFA2F.js";import"./index-CSTKEaPu.js";import"./index-Drl6JR_B.js";import"./index-C5W94n6N.js";import"./index-ahqnJA0E.js";import"./index-H-9SRDzX.js";import"./index-fKBIE13H.js";import"./xlsx.min-BNDpkytq.js";import"./schoolApi-BwSNx1fk.js";import"./mapClassFromDto-BHXsJaNm.js";const N={class:"flex-grow min-w-0 pb-4 mb-4 bg-white rounded-md border"},V={class:"p-4 text-heading-3-semibold"},R={class:"flex gap-2"},to=_({__name:"OrganizationOverviewPage",setup($){const m=f(),c=x(),p=B(),o=r(null),e=r(!1);async function l(){try{e.value=!0;const{data:t}=await z.getOrganizationById(Number(c.params.id));o.value=t}catch(t){m.add({severity:"error",summary:t.response.data.error,life:2e3})}finally{e.value=!1}}return g(()=>{l()}),(t,j)=>{var a;const u=C;return i(),v("div",N,[s("div",V,h((a=o.value)==null?void 0:a.name),1),o.value?(i(),y(n(O),{key:0,schools:o.value.schools,loading:e.value},{actions:k(({row:d})=>[s("div",R,[w(u,{icon:"pi pi-angle-right",outlined:"",rounded:"",severity:"info",onClick:A=>n(p).push({name:"supervisor-school",params:{id:d.id}})},null,8,["onClick"])])]),_:1},8,["schools","loading"])):b("",!0)])}}});export{to as default};
