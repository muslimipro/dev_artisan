import{e as _,u as f,r,C as g,o as s,c as v,a as i,t as h,i as y,w as k,k as w,h as n,j as b,K as x,n as B,l as C}from"./index-RQaPKU3q.js";import{_ as O}from"./SchoolsTable.vue_vue_type_script_setup_true_lang-Dy6nytMv.js";import{O as z}from"./organizationApi-DuhZudmX.js";import"./index-BJXW17cL.js";import"./index-DP6Jkdyj.js";import"./index-BctX0Pow.js";import"./index-CBvRvFRr.js";import"./index-DoQeMzHI.js";import"./index-DZ_1xp5G.js";import"./index-CdWRCESg.js";import"./index-CJfAG3aM.js";import"./index-5bVhi2nm.js";import"./index-Cvpkor55.js";import"./index-vGkf9gTg.js";import"./index-6V6lXQ4K.js";import"./index-CY8HVpGr.js";import"./index-3r_oBTLo.js";import"./index-Rzgfwlcn.js";const N={class:"flex-grow min-w-0 pb-4 mb-4 bg-white rounded-md border"},V={class:"p-4 text-heading-3-semibold"},R={class:"flex gap-2"},Y=_({__name:"OrganizationOverviewPage",setup($){const c=f(),l=x(),m=B(),o=r(null),t=r(!1);async function p(){try{t.value=!0;const{data:e}=await z.getOrganizationById(Number(l.params.id));o.value=e}catch(e){c.add({severity:"error",summary:e.response.data.error,life:2e3})}finally{t.value=!1}}return g(()=>{p()}),(e,j)=>{var a;const u=C;return s(),v("div",N,[i("div",V,h((a=o.value)==null?void 0:a.name),1),o.value?(s(),y(n(O),{key:0,schools:o.value.schools,loading:t.value},{actions:k(({row:d})=>[i("div",R,[w(u,{icon:"pi pi-angle-right",outlined:"",rounded:"",severity:"info",onClick:A=>n(m).push({name:"supervisor-school",params:{id:d.id}})},null,8,["onClick"])])]),_:1},8,["schools","loading"])):b("",!0)])}}});export{Y as default};
