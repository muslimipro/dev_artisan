import{m as t}from"./mapUnitFromDto-C-vlLM9s.js";function n(e){const i=[];let s={id:-1,groups:[],showCode:!1,showPibody:!1,showBlockly:!1},r={id:-1,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1,blocklyDrawerVisible:!1};for(const o of e){const{unit_type:a,id:l}=o;if(a==="pibody"&&(r.pibodyDrawerVisible=!0,r.codeDrawerVisible=!0,s.showPibody=!0,s.showCode=!0),a==="code"&&(r.codeDrawerVisible=!0,s.showCode=!0),a==="blockly"&&(r.pibodyDrawerVisible=!0,r.blocklyDrawerVisible=!0,s.showPibody=!0,s.showBlockly=!0),a==="page-divider")s.groups.push(r),i.push(s),s={id:l,groups:[],showCode:!1,showPibody:!1,showBlockly:!1},r={id:l,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1,blocklyDrawerVisible:!1};else if(a==="group-divider")s.groups.push(r),r={id:l,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1,blocklyDrawerVisible:!1};else{const u=t(o);r.units.push(u)}}return s.groups.push(r),i.push(s),i}const c=e=>{var i;return{id:e.id,lessonType:e.lesson_type,accessStatus:e.access_status,name:e.name,description:e.description,sourceImageUrl:e.source_image_url,previewImageUrl:e.preview_image_url,routeId:e.route_id,levelId:e.level_id,originalRouteId:e.original_route_id,accessType:e.access_type,studentProgress:e.student_progress,completed:e.completed,lessonTags:e.lesson_tags,units:((i=e.units)==null?void 0:i.map(t))??[],pages:n(e.units??[]),stage:e.stage,creatorName:e.creator_name,createdBy:e.created_by,updatedBy:e.updated_by,reviewedBy:e.reviewed_by,editable:e.editable,editVersion:e.edit_version,publishVersion:e.publish_version,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),routeName:e.route_name,levelName:e.level_name}};export{c as m};
