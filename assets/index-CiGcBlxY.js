import{s as C}from"./index-BQKo0YUX.js";import{d as T,u as b,r as y,b as m,e as k,o as r,c as u,a as t,t as n,k as g,h as c,G as B,i as v,j as R,F as $,q as w,n as P,s as I,C as N,f as S,B as L}from"./index-RQaPKU3q.js";import{_ as V}from"./MainHeader.vue_vue_type_script_setup_true_lang-BuW7JKj1.js";import"./index-zUgF_fUw.js";import{R as j}from"./routeApi-D5A-EIDQ.js";import{m as F}from"./mapRouteFromDto-JZc1Tx66.js";import{g as D,f as _}from"./groupRoutesByType-B8LQ_TR7.js";import{s as q}from"./index-i87uic1r.js";import{_ as z}from"./LessonCard.vue_vue_type_script_setup_true_lang-BIb7AqG4.js";import{_ as A}from"./ProgressRing.vue_vue_type_script_setup_true_lang-jLb7MlOz.js";import"./UserMenu.vue_vue_type_script_setup_true_lang-3l-gndQ6.js";import"./logo-D1-3uCnC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PremiumForm.vue_vue_type_script_setup_true_lang-DOQWPUhj.js";import"./index-CmgTJnJ7.js";import"./index-DoQeMzHI.js";import"./index-BQlFFWCz.js";import"./index-DZ_1xp5G.js";import"./index-DYe12pIs.js";import"./index-ZflZKAdM.js";import"./LocaleSelectButton.vue_vue_type_script_setup_true_lang-D5A7GxOk.js";import"./index-csPL02fk.js";import"./language-DYQF8nnT.js";import"./index-C1N2nWcC.js";import"./mapLessonFromDto-C2sH6sUU.js";import"./mapUnitFromDto-DRcH-Z8v.js";import"./transformUnitDtosToPages-BbPlv-Pt.js";import"./index-5bJt7VTk.js";import"./index-DnxWnOWO.js";import"./index-BEGyIpqi.js";import"./lessonApi-CDtd4rn4.js";const E=T("courses-store",()=>{const f=b(),s=y([]),i=y(!1);async function p(){try{i.value=!0;const{data:l}=await j.getRoutes();s.value=(l==null?void 0:l.map(F))??[]}catch(l){f.add({severity:"error",summary:l,life:2e3})}finally{i.value=!1}}const e=m(()=>D(s.value)),a=m(()=>_(s.value,"main")),d=m(()=>_(s.value,"side")),o=m(()=>_(s.value,"one_kit")),h=m(()=>_(s.value,"hackathon"));return{routes:s,isRoutesLoading:i,loadRoutes:p,groupedRoutes:e,mainRoutes:a,sideRoutes:d,oneKitRoutes:o,hackathonRoutes:h}}),G={class:"flex gap-6"},K={class:"flex-grow flex flex-col gap-2"},M={class:"flex gap-4 items-center"},W={class:"text-heading-3-semibold"},H={class:"flex gap-1 items-center"},J={class:"text-heading-3-regular text-neutral600"},O={class:"text-overline-large-bold text-neutral600"},Q={class:"text-body-medium-regular text-neutral600 line-clamp-2"},U={class:"flex overflow-x-scroll gap-4"},X=k({__name:"CourseCard",props:{route:{}},setup(f){const s=f,i=P(),p=m(()=>s.route.lessons.filter(e=>["learn","practice"].includes(e.lessonType)&&e.stage=="published"));return(e,a)=>{const d=q;return p.value.length?(r(),u("div",{key:0,class:"flex flex-col gap-4 w-full bg-white rounded-lg p-6 cursor-pointer shadow-sm",onClick:a[0]||(a[0]=o=>c(i).push({name:"route",params:{id:e.route.id}}))},[t("div",G,[t("div",K,[t("div",M,[t("div",W,n(e.route.name),1),t("div",H,[g(c(A),{value:e.route.studentProgress,size:18,strokeWidth:2},null,8,["value"]),t("div",J,[B(n(e.route.studentProgress),1),a[1]||(a[1]=t("span",{class:"ml-[2px]"},"%",-1))])])]),t("div",O,n(e.route.levels.length)+" "+n(e.$t("levelsPlural"))+" "+n(e.route.lessons.filter(o=>o.lessonType==="learn"||o.lessonType==="practice").length)+" "+n(e.$t("lessonsPlural")),1),t("div",Q,n(e.route.description),1)]),e.route.sourceImage_url?(r(),v(d,{key:0,src:e.route.sourceImage_url,alt:"Image",class:"min-w-[100px] min-h-[100px] w-[100px] h-[100px]"},null,8,["src"])):R("",!0)]),t("div",U,[(r(!0),u($,null,w(p.value,o=>(r(),u("div",{key:o.id},[g(c(z),{lesson:o,route_id:e.route.id},null,8,["lesson","route_id"])]))),128))])])):R("",!0)}}}),Y={class:"flex flex-col items-center"},Z={class:"w-full max-w-[1280px] px-8 py-10 flex flex-col gap-8"},ee={class:"text-heading-2-bold text-neutral900"},se={key:1,class:"flex justify-center"},te={key:2,class:"flex flex-col gap-8"},Ve=k({__name:"CoursesPage",setup(f){const s=E(),{isRoutesLoading:i,routes:p,mainRoutes:e}=I(s),{loadRoutes:a}=s;N(()=>{a()});const{locale:d}=S();return L(d,async()=>{await a()}),(o,h)=>{const l=C;return r(),u("div",Y,[g(c(V)),t("div",Z,[t("div",ee,n(o.$t("courses")),1),c(i)?(r(),v(l,{key:0,class:"flex justify-center"})):c(p).length==0?(r(),u("div",se,"No courses found")):(r(),u("div",te,[(r(!0),u($,null,w([...c(e)],x=>(r(),v(X,{key:x.id,route:x},null,8,["route"]))),128))]))])])}}});export{Ve as default};
