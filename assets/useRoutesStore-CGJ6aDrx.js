import{d as v,u as g,r as i,b as o}from"./index-RQaPKU3q.js";import{R as l}from"./routeApi-D5A-EIDQ.js";import{m as h}from"./mapRouteFromDto-JZc1Tx66.js";import{g as k,f as s}from"./groupRoutesByType-B8LQ_TR7.js";const b=v("routes-store",()=>{const a=g(),e=i([]),r=i(!1),u=i(!1);async function c(){try{r.value=!0;const{data:t}=await l.getRoutes();e.value=(t==null?void 0:t.map(h))??[]}catch(t){a.add({severity:"error",summary:t,life:2e3})}finally{r.value=!1}}async function m(t){try{u.value=!0;const{data:n}=await l.createRoute(t);await c(),a.add({severity:"success",summary:n.message,life:2e3})}catch(n){a.add({severity:"error",summary:n.response.data.error,life:2e3})}finally{u.value=!1}}const f=o(()=>k(e.value)),y=o(()=>s(e.value,"main")),d=o(()=>s(e.value,"side")),R=o(()=>s(e.value,"one_kit")),p=o(()=>s(e.value,"hackathon"));return{routes:e,isLoading:r,isCreating:u,loadRoutes:c,createRoute:m,groupedRoutes:f,mainRoutes:y,sideRoutes:d,oneKitRoutes:R,hackathonRoutes:p}});export{b as u};
