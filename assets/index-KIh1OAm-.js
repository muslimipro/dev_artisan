import{e as b,o as s,c as n,a as t,t as l,h as e,i,j as E,s as y,C as U,k as o,g as D,r as F,F as B,w as _,R as H,n as T}from"./index-BXslawiU.js";import{_ as q}from"./MainHeader.vue_vue_type_script_setup_true_lang-Dz4LHxHn.js";import"./index-DkBeW8WF.js";import{s as u,_ as h}from"./ErrorBoundary.vue_vue_type_script_setup_true_lang-Cs-k4eCO.js";import{_ as M}from"./PageBackLink.vue_vue_type_script_setup_true_lang-BJzEane_.js";import{s as z}from"./index-D5RqcZfo.js";import{R}from"./roadmap-hero-BI2lRaB5.js";import{u as I,_ as A}from"./LeaderboardTable.vue_vue_type_script_setup_true_lang-DwvcB2JM.js";import{s as V}from"./index-BB79oU2T.js";import"./UserMenu.vue_vue_type_script_setup_true_lang-DWoBqxEk.js";import"./logo-D1-3uCnC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PremiumForm.vue_vue_type_script_setup_true_lang-Bm8m_4kh.js";import"./index-BbHqUexW.js";import"./index-D-Li2oDx.js";import"./otherApi-mbQmFMOk.js";import"./index-peSoFaWK.js";import"./index-CG2VAMzt.js";import"./index-UVfE29m3.js";import"./LocaleSelectButton.vue_vue_type_script_setup_true_lang-DKeSLIQg.js";import"./index-CSI4_wiQ.js";import"./language-DYQF8nnT.js";import"./index-C6ro9I84.js";import"./index-C3n_x_8f.js";import"./IconVignette-DQsJQqXm.js";const G={class:"relative flex items-center sm:justify-between w-full h-[180px] rounded-2xl p-6 gap-0 sm:gap-6 bg-white"},J={class:"flex flex-col justify-center gap-2 px-4 sm:px-2 md:px-1 lg:px-0"},K={class:"text-heading-3-semibold !leading-normal text-neutral900"},O={class:"text-body-medium-regular text-neutral600"},Q={class:"flex-shrink-0 w-[121px] h-[121px] my-auto"},W=b({__name:"HeroSection",setup(v){return(r,a)=>{const c=z;return s(),n("section",G,[t("div",J,[t("h2",K,l(r.$t("leaderboard")),1),t("p",O,l(r.$t("pages.leaderboard.earnPoints")),1)]),t("div",Q,[e(R)?(s(),i(c,{key:0,src:e(R),alt:"Leaderboard illustration",class:"w-full h-full object-contain"},null,8,["src"])):E("",!0)])])}}}),X={class:"w-full lg:max-w-[816px] flex-1 bg-white rounded-2xl px-8 pt-8 pb-4 flex flex-col gap-6"},Y=b({__name:"LeaderboardListSection",setup(v){const r=I(),{paginatedEntries:a,isLoading:c,currentPage:p,totalPages:w}=y(r);U(()=>{r.loadLeaderboard(100)});function m(d){r.goToPage(d)}return(d,x)=>(s(),n("section",X,[o(e(A),{entries:e(a),"is-loading":e(c),"show-pagination":!0,"current-page":e(p),"total-pages":e(w),"skeleton-count":10,onPageChange:m},null,8,["entries","is-loading","current-page","total-pages"])]))}}),Z={class:"min-w-[368px] bg-white rounded-2xl p-8 flex flex-col items-center gap-6"},ee={class:"flex flex-col items-center gap-3"},te={key:3,class:"text-heading-3-semibold text-neutral900 text-center"},se={class:"w-full flex flex-col gap-2"},ae={class:"flex gap-2"},le={class:"flex-[4.359] bg-primary50 rounded-xl p-3 flex flex-col"},oe={class:"text-overline-large-regular text-neutral uppercase"},re={key:1,class:"text-heading-5-semibold text-neutral800 truncate"},ne={class:"flex-[2] bg-primary50 rounded-xl p-3 flex flex-col"},ie={class:"text-overline-large-regular text-neutral uppercase"},ce={key:1,class:"text-heading-5-semibold text-neutral800 truncate"},pe={class:"flex gap-2"},de={class:"flex-1 bg-primary50 rounded-xl p-3 flex flex-col"},ue={class:"text-overline-large-regular text-neutral uppercase"},_e={key:1,class:"text-heading-5-semibold text-neutral800"},me={class:"flex-1 bg-primary50 rounded-xl p-3 flex flex-col"},xe={class:"text-overline-large-regular text-neutral uppercase"},ge={key:1,class:"text-heading-5-semibold text-neutral800"},fe=["src"],he=b({__name:"ProfileSection",setup(v){const r=D(),{userInfo:a,userLabel:c,isUserInfoLoading:p}=y(r),w=I(),{myEntry:m,isLoading:d}=y(w),x=F(!1);return(g,f)=>{var $,k,L,P,S,C;const N=H;return s(),n(B,null,[t("section",Z,[t("div",ee,[e(p)?(s(),i(e(u),{key:0,shape:"circle",class:"w-24 h-24"})):e(a)?(s(),n(B,{key:1},[e(a).small_avatar_url?(s(),i(e(V),{key:0,image:e(a).small_avatar_url,shape:"circle",class:"w-24 h-24 cursor-pointer",pt:{image:{class:"object-cover w-full h-full"}},onClick:f[0]||(f[0]=j=>x.value=!0)},null,8,["image"])):(s(),i(e(V),{key:1,label:e(c),shape:"circle",class:"w-24 h-24 text-2xl"},null,8,["label"]))],64)):E("",!0),e(p)?(s(),i(e(u),{key:2,width:"160px",height:"24px"})):(s(),n("h3",te,l(($=e(a))==null?void 0:$.name)+" "+l((k=e(a))==null?void 0:k.surname),1))]),t("div",se,[t("div",ae,[t("div",le,[t("span",oe,l(g.$t("school")),1),e(p)||e(d)?(s(),i(e(u),{key:0,width:"80px",height:"16px"})):(s(),n("span",re,l(((L=e(a))==null?void 0:L.school_name)||"-"),1))]),t("div",ne,[t("span",ie,l(g.$t("class")),1),e(p)||e(d)?(s(),i(e(u),{key:0,width:"40px",height:"16px"})):(s(),n("span",ce,l(((P=e(a))==null?void 0:P.class_name)||"-"),1))])]),t("div",pe,[t("div",de,[t("span",ue,l(g.$t("pages.leaderboard.ranking")),1),e(d)?(s(),i(e(u),{key:0,width:"40px",height:"16px"})):(s(),n("span",_e,l(((S=e(m))==null?void 0:S.place)??"-"),1))]),t("div",me,[t("span",xe,l(g.$t("points")),1),e(d)?(s(),i(e(u),{key:0,width:"60px",height:"16px"})):(s(),n("span",ge,l(((C=e(m))==null?void 0:C.xp)??0),1))])])])]),o(N,{visible:x.value,"onUpdate:visible":f[1]||(f[1]=j=>x.value=j),modal:"",draggable:!1,"show-header":!1,"dismissable-mask":!0,style:{width:"24rem"},pt:{root:{class:"!bg-transparent !shadow-none !border-none"},content:{class:"!p-0 !bg-transparent"},mask:{class:"backdrop-blur-sm"}}},{default:_(()=>[t("img",{src:e(a).large_avatar_url,alt:"avatar",class:"w-full aspect-square rounded-full object-cover"},null,8,fe)]),_:1},8,["visible"])],64)}}}),be={class:"flex flex-col items-center"},ve={class:"w-full max-w-[1280px] px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-10 flex flex-col gap-8"},we={class:"flex flex-col-reverse lg:flex-row gap-8"},Ke=b({__name:"LeaderboardPage",setup(v){const r=T();return(a,c)=>(s(),n("div",be,[o(e(h),null,{default:_(()=>[o(e(q))]),_:1}),t("div",ve,[o(e(M),{label:a.$t("home"),onBack:c[0]||(c[0]=p=>e(r).push({name:"home2"}))},null,8,["label"]),o(e(h),null,{default:_(()=>[o(W)]),_:1}),t("div",we,[o(e(h),null,{default:_(()=>[o(Y)]),_:1}),o(e(h),null,{default:_(()=>[t("div",null,[o(he)])]),_:1})])])]))}});export{Ke as default};
