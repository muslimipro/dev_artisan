import{s as S,a as V}from"./index-Bnkze-fO.js";import{d as k,C as x,r as c,o as m,c as u,b as o,w as s,e as l,j as d,t as a,h as I,g as h,k as N,aF as T,s as B}from"./index-JgWrQ8Hv.js";import{s as M}from"./index-CdRGi4Cv.js";import{a as A,s as D}from"./index-QaHYKHw7.js";import{s as O}from"./index-DDN_3RID.js";import{u as P}from"./useSchoolStore-C1lLA3WY.js";import"./index-B5jQfOsB.js";import"./index-B1LccjML.js";import"./index-CathJry-.js";import"./index-CiI7omjd.js";import"./index-DIUKLkkp.js";import"./index-Ck7nX8CV.js";import"./index-C2EhEmf4.js";const R={class:"flex-grow min-w-0 pb-4 mb-4 bg-white rounded-md border"},U={class:"flex items-center"},j={class:"flex-grow flex gap-2 items-center"},E={key:0,class:"text-2xl"},ae=k({__name:"StudentsView",setup(K){const f=N(),g=P(),{students:p,studentsIsLoading:_}=x(g),v=c(),i=c();return(()=>{i.value={global:{value:null,matchMode:T.CONTAINS}}})(),(t,n)=>{const b=A,$=O,y=D,w=M,r=S,C=B,F=V;return m(),u("div",R,[o(F,{ref_key:"dt",ref:v,filters:i.value,"onUpdate:filters":n[1]||(n[1]=e=>i.value=e),value:d(p),dataKey:"id",loading:d(_),scrollable:"",globalFilterFields:["name","email"],class:"rounded-md overflow-hidden w-full",paginator:"",rows:10,rowsPerPageOptions:[5,10,25]},{header:s(()=>[l("div",U,[l("div",j,[d(p)?(m(),u("div",E,a(t.$t("pages.school.students"))+" - "+a(d(p).length),1)):I("",!0)]),o(y,null,{default:s(()=>[o(b,null,{default:s(()=>n[2]||(n[2]=[l("i",{class:"pi pi-search"},null,-1)])),_:1}),o($,{modelValue:i.value.global.value,"onUpdate:modelValue":n[0]||(n[0]=e=>i.value.global.value=e),placeholder:t.$t("pages.school.search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:s(()=>[h(a(t.$t("pages.school.noStudentsFound")),1)]),loading:s(()=>[h(a(t.$t("pages.school.loadingStudents")),1)]),default:s(()=>[o(r,{field:"avatar",header:t.$t("pages.school.avatar"),sortable:""},{body:s(({data:e})=>[o(w,{image:e.small_avatar_url},null,8,["image"])]),_:1},8,["header"]),o(r,{field:"name",header:t.$t("pages.school.name"),sortable:""},{body:s(({data:e})=>[l("div",null,a(`${e.name}`),1)]),_:1},8,["header"]),o(r,{field:"email",header:t.$t("pages.school.email"),sortable:""},{body:s(({data:e})=>[l("div",null,a(`${e.email}`),1)]),_:1},8,["header"]),o(r,{field:"class",header:t.$t("pages.school.class"),sortable:""},{body:s(({data:e})=>[l("div",null,a(`${e.class_name}`),1)]),_:1},8,["header"]),o(r,{field:"xp",header:t.$t("pages.school.xp"),sortable:""},{body:s(({data:e})=>[l("div",null,a(`${e.xp}`),1)]),_:1},8,["header"]),o(r,{exportable:!1},{body:s(({data:e})=>[o(C,{icon:"pi pi-angle-right",outlined:"",rounded:"",severity:"info",onClick:q=>d(f).push({name:"school-student",params:{id:e.id}})},null,8,["onClick"])]),_:1})]),_:1},8,["filters","value","loading"])])}}});export{ae as default};
