import{o as s,c as r,a as t,d as pe,u as me,r as M,b as j,U as he,e as U,f as H,g as Z,s as A,h as e,i as I,t as g,j as z,k as l,w as L,l as G,m as se,n as Q,p as fe,F as E,q as O,v as F,x as xe,y as V,T as J,z as ge,A as ve,B as q,C as K,D as _e,E as we}from"./index-BXslawiU.js";import{_ as ye}from"./MainHeader.vue_vue_type_script_setup_true_lang-Dz4LHxHn.js";import"./index-DkBeW8WF.js";import{s as k,_ as B}from"./ErrorBoundary.vue_vue_type_script_setup_true_lang-Cs-k4eCO.js";import{u as oe,_ as ee,a as be,g as ke}from"./StepIndicator.vue_vue_type_script_setup_true_lang-B30noq7U.js";import{s as te}from"./index-BB79oU2T.js";import{s as $e}from"./index-UVfE29m3.js";import{I as Ce,_ as Se}from"./UserMenu.vue_vue_type_script_setup_true_lang-DWoBqxEk.js";import{_ as Le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as De}from"./index-D5RqcZfo.js";import{u as Te,_ as Ie}from"./LeaderboardTable.vue_vue_type_script_setup_true_lang-DwvcB2JM.js";import"./index-C6ro9I84.js";import"./routeApi-ynnPXWsk.js";import"./index-De9rL6wl.js";import"./index-CeAgpK5A.js";import"./lessonApi-B6FvAxav.js";import"./logo-D1-3uCnC.js";import"./PremiumForm.vue_vue_type_script_setup_true_lang-Bm8m_4kh.js";import"./index-BbHqUexW.js";import"./index-D-Li2oDx.js";import"./otherApi-mbQmFMOk.js";import"./index-peSoFaWK.js";import"./index-CG2VAMzt.js";import"./LocaleSelectButton.vue_vue_type_script_setup_true_lang-DKeSLIQg.js";import"./index-CSI4_wiQ.js";import"./language-DYQF8nnT.js";import"./index-C3n_x_8f.js";import"./IconVignette-DQsJQqXm.js";const je="/assets/premium-rocket-rX_dPq1P.webp",Me="/assets/premium-station-COZloHei.webp",ze={},Pe={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Fe(D,p){return s(),r("svg",Pe,p[0]||(p[0]=[t("path",{d:"M6 4.49994C5.7071 4.20705 5.23223 4.20705 4.93934 4.49994C4.64644 4.79284 4.64644 5.26771 4.93934 5.5606L10.9393 12L4.93934 18.4393C4.64644 18.7322 4.64644 19.207 4.93934 19.4999C5.23223 19.7928 5.7071 19.7928 6 19.4999L12 13.0606L18 19.4999C18.2929 19.7928 18.7678 19.7928 19.0607 19.4999C19.3535 19.2071 19.3535 18.7322 19.0607 18.4393L13.0606 12L19.0607 5.5606C19.3535 5.26771 19.3535 4.79284 19.0607 4.49994C18.7678 4.20705 18.2929 4.20705 18 4.49994L12 10.9393L6 4.49994Z",fill:"currentColor"},null,-1)]))}const ne=Le(ze,[["render",Fe]]),le=pe("home-store",()=>{const D=me(),p=M({}),o=M(0),_=M(!1);async function a(){try{_.value=!0;const{data:i}=await he.getUserProgress();o.value=i.xp,p.value=i.attempts.reduce((c,y)=>(c[y.date]={date:y.date,count:y.count,success:y.success},c),{})}catch(i){D.add({severity:"error",summary:i,life:2e3})}finally{_.value=!1}}const b=j(()=>Object.values(p.value).map(i=>({date:i.date,level:h(i),count:i.count,success:i.success})));function h(i){return i.count===0?0:i.count<10?1:i.count<15?2:3}return{isProgressLoading:_,loadProgress:a,xp:o,contributionData:b}}),Ee={key:1,class:"text-heading-2-bold text-neutral900",style:{"font-size":"clamp(24px, 4vw, 34px)"}},Ae=U({__name:"GreetingSection",setup(D){const{t:p}=H(),o=Z(),{userInfo:_,isUserInfoLoading:a}=A(o),b=j(()=>{const h=new Date().getHours();return h<12?p("goodMorning"):h<18?p("goodAfternoon"):p("goodEvening")});return(h,i)=>{var c;return s(),r("section",null,[e(a)?(s(),I(e(k),{key:0,class:"w-full",height:"41px"})):(s(),r("h1",Ee,g(b.value)+", "+g((c=e(_))==null?void 0:c.name)+"!",1))])}}}),Ue={class:"flex flex-col gap-8 bg-white rounded-2xl p-8 overflow-visible"},Re={class:"flex flex-col sm:flex-row justify-between gap-8 min-w-0"},Be={class:"flex flex-col xs:flex-row gap-8 xs:gap-4 sm:min-h-[96px] min-w-0 flex-1"},Ne={key:1,class:"shrink-0 mx-auto xs:mx-0"},Oe={class:"flex flex-col gap-6 justify-between min-w-0 flex-1 overflow-hidden"},He={key:1,class:"text-heading-3-semibold text-neutral900 overflow-hidden text-ellipsis whitespace-nowrap !leading-normal"},We={class:"flex flex-col sm:flex-row gap-4 min-w-0 overflow-hidden"},Ve={class:"flex flex-col gap-1 min-w-0 overflow-hidden max-w-[300px]"},Ge={key:1,class:"text-overline-large-regular text-neutral uppercase overflow-hidden text-ellipsis whitespace-nowrap"},Ke={key:3,class:"text-heading-5-semibold text-neutral800 overflow-hidden text-ellipsis whitespace-nowrap"},Xe={class:"flex flex-col gap-1 min-w-0 overflow-hidden max-w-[300px]"},Ye={key:1,class:"text-overline-large-regular text-neutral uppercase overflow-hidden text-ellipsis whitespace-nowrap"},Je={key:3,class:"text-heading-5-semibold text-neutral800 overflow-hidden text-ellipsis whitespace-nowrap"},qe={class:"flex flex-row-reverse sm:flex-col items-center sm:items-end justify-between"},Ze={class:"hidden xxs:inline text-nowrap"},Qe={key:1,class:"flex items-end justify-end gap-1"},et={class:"text-heading-2-semibold text-neutral900",style:{"font-size":"clamp(24px, 4vw, 34px)"}},tt=U({__name:"ProfileSection",setup(D){const p=Q(),{t:o}=H(),_=Z(),{userInfo:a,userLabel:b,isUserInfoLoading:h}=A(_),i=le(),{xp:c,isProgressLoading:y}=A(i);return(x,$)=>{var T,P,C,v;return s(),r("section",Ue,[t("div",Re,[t("div",Be,[e(h)?(s(),I(e(k),{key:0,shape:"circle",class:"w-36 h-36 sm:w-24 sm:h-24 shrink-0 mx-auto xs:mx-0"})):e(a)?(s(),r("div",Ne,[e(a).small_avatar_url?(s(),I(e(te),{key:0,image:e(a).small_avatar_url,shape:"circle",class:"w-36 h-36 sm:w-24 sm:h-24",pt:{image:{class:"object-cover w-full h-full"}}},null,8,["image"])):(s(),I(e(te),{key:1,label:e(b),shape:"circle",class:"w-36 h-36 sm:w-24 sm:h-24 text-2xl"},null,8,["label"]))])):z("",!0),t("div",Oe,[e(h)?(s(),I(e(k),{key:0,width:"192px",height:"32px"})):(s(),r("h2",He,g((T=e(a))==null?void 0:T.name)+" "+g((P=e(a))==null?void 0:P.surname),1)),t("div",We,[t("div",Ve,[e(h)?(s(),I(e(k),{key:0,width:"128px",height:"16px"})):(s(),r("span",Ge,g(x.$t("school")),1)),e(h)?(s(),I(e(k),{key:2,width:"160px",height:"20px"})):(s(),r("span",Ke,g(((C=e(a))==null?void 0:C.school_name)||e(o)("noSchoolFound")),1))]),t("div",Xe,[e(h)?(s(),I(e(k),{key:0,width:"64px",height:"16px"})):(s(),r("span",Ye,g(x.$t("class")),1)),e(h)?(s(),I(e(k),{key:2,width:"48px",height:"20px"})):(s(),r("span",Je,g(((v=e(a))==null?void 0:v.class_name)||e(o)("noClassFound")),1))])])])]),l(e($e),{class:"w-full sm:w-0 sm:h-0",style:{"--p-divider-border-color":"var(--p-neutral-200)"}}),t("div",qe,[l(e(G),{variant:"outlined",class:"h-[32px] rounded action-small-regular w-[32px] p-0 flex items-center justify-center xxs:w-auto xxs:px-3 xxs:py-2",onClick:$[0]||($[0]=R=>e(p).push({name:"settings-personal-info"}))},{default:L(()=>[l(e(Ce),{class:"w-4 h-4 text-primary xxs:hidden"}),t("span",Ze,g(e(o)("pages.home.settings")),1)]),_:1}),e(y)?(s(),I(e(k),{key:0,width:"112px",height:"48px"})):(s(),r("div",Qe,[t("span",et,g(e(c)||0),1),$[1]||($[1]=t("span",{class:"text-heading-3-regular text-neutral"},"XP",-1))]))])]),se(x.$slots,"default")])}}}),st={class:"w-full flex flex-col gap-2 bg-white border border-primary300 rounded-lg py-3 sm:py-4"},ot={key:0,class:"flex flex-col gap-3 px-4 sm:px-6"},nt={class:"flex justify-between items-center"},lt={class:"grid grid-cols-[repeat(auto-fit,16px)] gap-0.5 justify-center"},at={class:"flex justify-end items-center gap-2"},rt={class:"grid grid-flow-col grid-cols-[auto] grid-rows-[auto_repeat(7,16px)] auto-cols-[16px] gap-0.5 w-max m-auto px-4 sm:px-6 overflow-x-auto"},it=["onClick","onKeydown"],ct={key:2,class:"flex items-center justify-end self-end gap-2 mr-4"},dt={class:"text-overline-small-bold text-neutral"},ut={class:"flex gap-1"},pt=["title"],mt=["title"],ht=["title"],ft=["title"],xt={class:"text-overline-small-bold text-neutral"},gt={class:"bg-white border-2 border-primary300 rounded-2xl shadow-small p-4 sm:p-5 pointer-events-auto w-[280px] sm:w-[320px] max-w-[calc(100vw-32px)]"},vt={class:"flex items-start justify-between gap-2 sm:gap-3 mb-3 sm:mb-4"},_t={class:"flex-1 min-w-0"},wt={class:"text-overline-large-bold text-neutral uppercase mb-2 truncate"},yt={class:"text-heading-4-semibold text-neutral900 truncate"},bt={class:"flex flex-col gap-2 sm:gap-3"},kt={class:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-neutral50 rounded-lg"},$t={class:"text-body-medium-semibold text-neutral800 truncate"},Ct={class:"flex items-center justify-between gap-2 px-2.5 sm:px-3 py-2 bg-primary50 rounded-lg"},St={class:"text-body-medium-regular text-neutral700 truncate"},Lt={class:"text-heading-5-bold text-primary whitespace-nowrap"},Dt=U({__name:"ContributionGraph",props:{contributions:{default:()=>[]},isLoading:{type:Boolean,default:!1}},setup(D){const p=D,{t:o}=H(),_=M(null),a=M({date:new Date,level:0,visible:!1,x:0,y:0});fe(async()=>{!p.isLoading&&_.value&&(await ve(),_.value.scrollLeft=_.value.scrollWidth)});const b=(f,m)=>{const u=f.target.getBoundingClientRect();a.value={date:m.date,level:m.level,visible:!0,x:u.left+u.width/2,y:u.top-8}},h=f=>{const m=f.getFullYear(),u=String(f.getMonth()+1).padStart(2,"0"),d=String(f.getDate()).padStart(2,"0"),n=`${m}-${u}-${d}`,w=p.contributions.find(S=>S.date===n);return(w==null?void 0:w.count)||0},i=j(()=>{if(typeof window>"u")return{left:"50%",top:"50%",transform:"translate(-50%, -50%)"};if(window.innerWidth<640)return{left:"50%",top:"50%",transform:"translate(-50%, -50%)"};const m=320,u=200,d=10,n=16;let w=a.value.x,S=a.value.y,N="translate(-50%, -100%)";return w+m/2>window.innerWidth-n&&(w=window.innerWidth-n-m/2),w-m/2<n&&(w=n+m/2),S-u-d<n&&(S=a.value.y+20,N="translate(-50%, 0)"),{left:`${w}px`,top:`${S}px`,transform:N}}),c=()=>{a.value.visible=!1},y=j(()=>[o("weekdaySun"),o("weekdayMon"),o("weekdayTue"),o("weekdayWed"),o("weekdayThu"),o("weekdayFri"),o("weekdaySat")]),x=f=>y.value[f.getDay()],$=f=>{const m=f.getDate(),u=T.value[f.getMonth()];return`${m} ${u}`},T=j(()=>[o("monthJan"),o("monthFeb"),o("monthMar"),o("monthApr"),o("monthMay"),o("monthJun"),o("monthJul"),o("monthAug"),o("monthSep"),o("monthOct"),o("monthNov"),o("monthDec")]),P=j(()=>[{label:o("weekdayMon"),row:2},{label:"",row:3},{label:o("weekdayWed"),row:4},{label:"",row:5},{label:o("weekdayFri"),row:6},{label:"",row:7},{label:"",row:8}]),C=f=>{const m={0:"var(--color-neutral100)",1:"var(--color-primary100)",2:"var(--color-primary300)",3:"var(--color-primary)"};return m[f]||m[0]},v=f=>{const m=`contributionLevel${f}`;return o(m)},R=j(()=>{const f=new Date;f.setHours(0,0,0,0);const m=365,u=new Date(f);u.setDate(f.getDate()-(m-1));const d=[],n=new Date(u);let w=2;for(let S=0;S<m;S++){const N=n.getDay()===0?7:n.getDay(),ae=n.getDate()===1,re=n.getFullYear(),ie=String(n.getMonth()+1).padStart(2,"0"),ce=String(n.getDate()).padStart(2,"0"),de=`${re}-${ie}-${ce}`,X=p.contributions.find(ue=>ue.date===de);d.push({date:new Date(n),level:(X==null?void 0:X.level)||0,weekday:N,columnIndex:w,isFirstDayOfMonth:ae,monthName:T.value[n.getMonth()]}),N===7&&w++,n.setDate(n.getDate()+1)}return d}),W=j(()=>{const f=new Map;return R.value.forEach(m=>{m.isFirstDayOfMonth&&!f.has(m.columnIndex)&&f.set(m.columnIndex,m.monthName)}),Array.from(f.entries()).map(([m,u])=>({columnIndex:m,monthName:u}))});return(f,m)=>(s(),r("div",st,[f.isLoading?(s(),r("div",ot,[t("div",nt,[l(e(k),{width:"40px",height:"12px"}),l(e(k),{width:"40px",height:"12px"}),l(e(k),{width:"40px",height:"12px"}),l(e(k),{width:"40px",height:"12px"})]),t("div",lt,[(s(),r(E,null,O(371,u=>l(e(k),{key:`skeleton-${u}`,width:"16px",height:"16px",class:"rounded-sm"})),64))]),t("div",at,[l(e(k),{width:"40px",height:"12px"}),l(e(k),{width:"60px",height:"12px"}),l(e(k),{width:"40px",height:"12px"})])])):(s(),r("div",{key:1,ref_key:"scrollContainer",ref:_,class:"overflow-x-auto pb-2"},[t("div",rt,[(s(!0),r(E,null,O(P.value,(u,d)=>(s(),r("div",{key:`day-label-${d}`,class:"text-overline-small-bold text-neutral600 whitespace-nowrap self-center select-none bg-white pr-1 z-[2]",style:F({gridColumn:1,gridRow:u.row})},g(u.label),5))),128)),(s(!0),r(E,null,O(W.value,u=>(s(),r("div",{key:`month-${u.columnIndex}`,class:"text-overline-small-bold text-neutral600 whitespace-nowrap self-end bg-white pb-1 z-[2]",style:F({gridRow:1,gridColumn:u.columnIndex})},g(u.monthName),5))),128)),(s(!0),r(E,null,O(R.value,(u,d)=>(s(),r("div",{key:`cell-${d}`,role:"button",tabindex:"0",class:"w-4 h-4 rounded-sm cursor-pointer focus:outline-none",style:F({backgroundColor:C(u.level),gridRow:u.weekday+1,gridColumn:u.columnIndex}),onClick:n=>b(n,u),onKeydown:xe(n=>b(n,u),["enter"])},null,44,it))),128))])],512)),f.isLoading?z("",!0):(s(),r("div",ct,[t("span",dt,g(e(o)("less").toUpperCase()),1),t("div",ut,[t("div",{class:"w-3 h-3 rounded-sm",style:F({backgroundColor:C(0)}),title:v(0)},null,12,pt),t("div",{class:"w-3 h-3 rounded-sm",style:F({backgroundColor:C(1)}),title:v(1)},null,12,mt),t("div",{class:"w-3 h-3 rounded-sm",style:F({backgroundColor:C(2)}),title:v(2)},null,12,ht),t("div",{class:"w-3 h-3 rounded-sm",style:F({backgroundColor:C(3)}),title:v(3)},null,12,ft)]),t("span",xt,g(e(o)("more").toUpperCase()),1)])),(s(),I(ge,{to:"body"},[l(J,{"enter-active-class":"transition-all duration-200 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:L(()=>[a.value.visible?(s(),r("div",{key:0,class:"fixed z-50 pointer-events-none",style:F({left:i.value.left,top:i.value.top,transform:i.value.transform})},[t("div",gt,[t("div",vt,[t("div",_t,[t("div",wt,g(x(a.value.date)),1),t("div",yt,g($(a.value.date)),1)]),t("button",{onClick:c,class:"text-neutral400 hover:text-neutral900 transition-colors w-6 h-6 flex items-center justify-center rounded-full hover:bg-neutral50 flex-shrink-0"},[l(e(ne),{class:"w-4 h-4"})])]),t("div",bt,[t("div",kt,[t("div",{class:V(["w-4 h-4 rounded flex-shrink-0",{"bg-neutral100":a.value.level===0||a.value.level===1,"bg-primary100":a.value.level===2,"bg-primary300":a.value.level===3}])},null,2),t("span",$t,g(v(a.value.level)),1)]),t("div",Ct,[t("span",St,g(e(o)("activity")),1),t("span",Lt,g(h(a.value.date))+" "+g(e(o)("attempts")),1)])]),m[0]||(m[0]=t("div",{class:"hidden sm:block absolute left-1/2 bottom-0 -translate-x-1/2 translate-y-full w-0 h-0 border-l-[10px] border-r-[10px] border-t-[10px] border-l-transparent border-r-transparent border-t-primary300"},null,-1))])],4)):z("",!0)]),_:1}),l(J,{"enter-active-class":"transition-opacity duration-200","leave-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:L(()=>[a.value.visible?(s(),r("div",{key:0,class:"fixed inset-0 z-40 bg-neutral900/10 backdrop-blur-[2px]",onClick:c})):z("",!0)]),_:1})]))]))}}),Tt={key:0,class:"banner-wrapper"},It={class:"flex flex-col-reverse sm:flex-row justify-between items-center w-full bg-purple100 rounded-2xl p-6 relative overflow-visible gap-4"},jt={class:"flex flex-col items-center sm:items-start gap-4 z-30"},Mt={class:"flex flex-col items-center sm:items-start gap-2"},zt={class:"text-heading-3-semibold text-neutral900",style:{"font-size":"clamp(18px, 3vw, 24px)"}},Pt={class:"text-body-large-regular text-neutral600 text-center sm:text-left",style:{"font-size":"clamp(14px, 2vw, 16px)"}},Ft={class:"flex items-center justify-center"},Et={key:1,class:"relative w-[141px] h-[141px] flex items-center justify-center"},At={key:2,class:"relative w-[141px] h-[141px] flex items-center justify-center text-6xl"},Y="premium-banner-hidden-date",Ut=U({__name:"PremiumBannerSection",setup(D,{expose:p}){const{t:o}=H(),_=Z(),{isUserInfoLoading:a,userInfo:b}=A(_),h=M(!1),i=M(!1),c=M(!1),y=M(!1),x=j(()=>b.value?b.value.access_type!=="premium":!1),$={getItem(d){try{return localStorage.getItem(d)}catch(n){return console.warn("Failed to read from localStorage:",n),null}},setItem(d,n){try{localStorage.setItem(d,n)}catch(w){console.warn("Failed to write to localStorage:",w)}},removeItem(d){try{localStorage.removeItem(d)}catch(n){console.warn("Failed to remove from localStorage:",n)}}},T=(d=new Date)=>{const n=new Date(d);return n.setHours(0,0,0,0),n},P=()=>{const d=$.getItem(Y);if(!d)return!0;try{const n=new Date(d);if(isNaN(n.getTime()))return console.warn("Invalid date in localStorage, clearing cache"),$.removeItem(Y),!0;const w=T(),S=T(n);return w.getTime()>S.getTime()}catch(n){return console.warn("Error parsing date from localStorage:",n),!0}},C=()=>{if(a.value)return;P()&&b.value&&x.value&&!h.value&&(h.value=!0)};let v=null;const R=()=>{if(v&&(clearTimeout(v),v=null),!c.value||!x.value)return;const d=new Date,n=new Date(d);n.setDate(n.getDate()+1),n.setHours(0,0,0,0);const w=n.getTime()-d.getTime();if(w<=0||w>2147483647){console.warn("Invalid timeout value, skipping scheduling");return}v=setTimeout(()=>{c.value&&x.value&&(C(),R())},w)},W=()=>{!document.hidden&&c.value&&C()};q(()=>{var d;return(d=b.value)==null?void 0:d.access_type},d=>{d==="premium"&&(h.value=!1,v&&(clearTimeout(v),v=null))},{flush:"post"}),q(h,()=>{y.value=!1},{immediate:!1}),K(()=>{c.value=!0,C(),R(),document.addEventListener("visibilitychange",W)}),_e(()=>{document.removeEventListener("visibilitychange",W),v&&(clearTimeout(v),v=null),c.value=!1});const f=()=>{i.value=!0},m=()=>{h.value=!1;{const d=T();$.setItem(Y,d.toISOString())}},u=()=>{y.value=!0,console.warn("Failed to load premium banner images")};return p({isVisible:h}),(d,n)=>{const w=De;return s(),r(E,null,[l(J,{name:"banner-fold"},{default:L(()=>[h.value?(s(),r("section",Tt,[t("div",It,[e(a)?z("",!0):(s(),r("button",{key:0,type:"button",onClick:m,class:"close-button flex items-center justify-center w-6 h-6 text-purple300"},[l(e(ne),{class:"w-4 h-4"})])),t("div",jt,[t("div",Mt,[t("h3",zt,g(e(o)("upgradeToPremium"))+" ðŸš€",1),t("p",Pt,g(e(o)("goPremiumToUnlock")),1)]),l(e(G),{severity:"help",label:e(o)("upgradeToPremium"),class:"rounded-md text-action-medium-semibold w-60 h-12 px-4 py-3",onClick:f},null,8,["label"])]),t("div",Ft,[e(a)?(s(),I(e(k),{key:0,height:"141px",width:"141px",shape:"circle"})):y.value?(s(),r("div",At,"ðŸš€")):(s(),r("div",Et,[l(w,{src:e(Me),width:"141",height:"141",class:"absolute bottom-0 z-10",alt:"Premium station illustration",loading:"lazy",onError:u},null,8,["src"]),l(w,{src:e(je),width:"121",height:"121",class:"absolute top-[-10px] z-20 animate-rocket-hover",alt:"Premium rocket illustration",loading:"lazy",onError:u},null,8,["src"])]))])])])):z("",!0)]),_:1}),l(e(Se),{"model-value":i.value,"onUpdate:modelValue":n[0]||(n[0]=S=>i.value=S)},null,8,["model-value"])],64)}}}),Rt={class:"lg:flex-[3.4141] min-h-[604px] bg-white rounded-2xl p-6 min-w-0"},Bt={class:"min-h-6 flex items-center justify-between mt-2 mb-6 ml-2"},Nt={class:"text-heading-4-semibold text-neutral900 z-10"},Ot={key:0,class:"flex-1 flex items-center justify-center"},Ht={key:2,class:"text-center py-8 text-neutral500"},Wt=U({__name:"RoadmapSection",setup(D){const p=Q(),o=oe(),{lessons:_,isLoading:a}=A(o);K(()=>{o.loadRoadmap()});const{locale:b}=H();q(b,async()=>{await o.loadRoadmap()});function h(){p.push({name:"roadmap"})}return(i,c)=>(s(),r("section",Rt,[t("div",Bt,[t("h2",Nt,g(i.$t("roadmap")),1),l(e(G),{label:i.$t("seeRoadmap"),variant:"link",size:"small",class:"!p-0 action-small-bold text-primary z-10",onClick:h},null,8,["label"])]),e(a)?(s(),r("div",Ot,c[0]||(c[0]=[t("i",{class:"pi pi-spin pi-spinner text-3xl text-primary"},null,-1)]))):e(_).length>0?se(i.$slots,"default",{key:1}):(s(),r("div",Ht,g(i.$t("noLessonsAvailable")),1))]))}}),Vt={class:"relative"},Gt={class:"flex justify-end items-center min-w-0"},Kt={class:"step-wrapper relative z-10 flex items-center justify-center w-[54px] h-[54px]"},Xt={class:"flex justify-start items-center min-w-0"},Yt=U({__name:"HomeTimeline",props:{lessons:{}},setup(D){const p=D,o=j(()=>{const c=p.lessons.findIndex(y=>!y.completed&&y.student_progress<100);return c===-1?p.lessons.length-1:c}),_=j(()=>{const c=o.value,y=Math.max(0,c-1),x=Math.min(p.lessons.length,y+3),$=Math.max(0,x-3);return p.lessons.slice($,x).map((T,P)=>{const C=$+P,v=ke(T,C,p.lessons);return{lesson:T,originalIndex:C,status:v.status,isCurrent:v.isCurrent,isLocked:v.isLocked,lessonType:v.lessonType}})});function a(c){return c%2===0?"left":"right"}function b(c){return!c.isLocked&&!!c.lesson.completed}const h={learn:"bg-primary100",practice:"bg-purple100",module:"bg-warning100",project:"bg-blue-100"};function i(c){return c.isLocked?"bg-neutral50":c.lessonType?h[c.lessonType]:"bg-neutral50"}return(c,y)=>(s(),r("div",Vt,[y[0]||(y[0]=t("div",{class:"absolute left-1/2 -translate-x-1/2 w-[20px] h-[128px] top-[-75px] z-0 rounded-sm",style:{background:"linear-gradient(180deg, #fff 0%, #28ca9e 100%)"}},null,-1)),(s(!0),r(E,null,O(_.value,(x,$)=>(s(),r("div",{key:x.lesson.id,class:"relative items-center grid grid-cols-[1fr_54px_1fr]"},[$<_.value.length-1?(s(),r("div",{key:0,class:V(["timeline-line absolute left-1/2 -translate-x-1/2 w-[20px] h-full top-1/2 z-0 rounded-sm overflow-hidden",b(x)?"bg-primary":"bg-neutral50"])},null,2)):z("",!0),t("div",Gt,[a(x.originalIndex)==="left"?(s(),r(E,{key:0},[l(e(ee),{lesson:x.lesson,"is-locked":x.isLocked,"is-current":x.isCurrent,variant:"compact"},null,8,["lesson","is-locked","is-current"]),t("div",{class:V(["w-[26px] h-[20px] -mr-1 flex-shrink-0",i(x)])},null,2)],64)):z("",!0)]),t("div",Kt,[l(e(be),{status:x.status,"lesson-type":x.lessonType,variant:"compact"},null,8,["status","lesson-type"])]),t("div",Xt,[a(x.originalIndex)==="right"?(s(),r(E,{key:0},[t("div",{class:V(["w-[24px] h-[20px] -ml-1 flex-shrink-0",i(x)])},null,2),l(e(ee),{lesson:x.lesson,"is-locked":x.isLocked,"is-current":x.isCurrent,variant:"compact"},null,8,["lesson","is-locked","is-current"])],64)):z("",!0)])]))),128)),y[1]||(y[1]=t("div",{class:"absolute left-1/2 -translate-x-1/2 w-[20px] h-[128px] bottom-[-75px] z-0 rounded-sm",style:{background:"linear-gradient(180deg, #e6faf4 0%, #fff 100%)"}},null,-1))]))}}),Jt={class:"lg:flex-[2] min-h-[604px] bg-white rounded-2xl p-8 flex flex-col gap-4 min-w-0"},qt={class:"w-full min-h-6 flex items-center justify-between"},Zt={class:"text-heading-4-semibold text-neutral900"},Qt=U({__name:"LeaderboardSection",setup(D){const p=Q(),o=Te(),{homeEntries:_,isLoading:a}=A(o);K(()=>{o.loadLeaderboard()});function b(){p.push({name:"leaderboard"})}return(h,i)=>(s(),r("section",Jt,[t("div",qt,[t("h2",Zt,g(h.$t("leaderboard")),1),l(e(G),{label:h.$t("seeAll"),variant:"link",size:"small",class:"!p-0 action-small-bold text-primary",onClick:b},null,8,["label"])]),l(e(Ie),{entries:e(_),"is-loading":e(a),"skeleton-count":7,"show-pagination":!1},null,8,["entries","is-loading"])]))}}),es={class:"flex flex-col items-center"},ts={class:"w-full max-w-[1280px] px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-10"},ss={key:"roadmap-leaderboard",class:"flex flex-col lg:flex-row gap-8"},js=U({__name:"HomePage",setup(D){const p=le(),{loadProgress:o}=p,{contributionData:_}=A(p),a=oe(),{lessons:b}=A(a);return K(()=>{o()}),(h,i)=>(s(),r("div",es,[l(e(B),null,{default:L(()=>[l(e(ye))]),_:1}),t("div",ts,[l(we,{name:"home-list",tag:"div",class:"flex flex-col gap-6 sm:gap-8"},{default:L(()=>[l(e(B),{key:"greeting"},{default:L(()=>[l(Ae)]),_:1}),l(e(B),{key:"profile"},{default:L(()=>[l(tt,null,{default:L(()=>[l(Dt,{contributions:e(_),"is-loading":e(p).isProgressLoading},null,8,["contributions","is-loading"])]),_:1})]),_:1}),l(e(B),{key:"premium"},{default:L(()=>[l(Ut)]),_:1}),t("div",ss,[l(e(B),null,{default:L(()=>[l(Wt,null,{default:L(()=>[l(Yt,{lessons:e(b)},null,8,["lessons"])]),_:1})]),_:1}),l(e(B),null,{default:L(()=>[l(Qt)]),_:1})])]),_:1})])]))}});export{js as default};
