import{s as R}from"./index-i87uic1r.js";import{o,c as r,a as s,d as A,u as F,r as $,e as B,t as i,k as d,h as t,G as T,i as C,j as h,y as D,F as b,n as P,l as N,s as M,C as U,f as q,B as H,b as L,q as k,K as W}from"./index-RQaPKU3q.js";import{s as E}from"./index-BQKo0YUX.js";import{_ as G}from"./MainHeader.vue_vue_type_script_setup_true_lang-BuW7JKj1.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-zUgF_fUw.js";import{_ as j}from"./LessonCard.vue_vue_type_script_setup_true_lang-BIb7AqG4.js";import{_ as S}from"./ProgressRing.vue_vue_type_script_setup_true_lang-jLb7MlOz.js";import{R as Z}from"./routeApi-D5A-EIDQ.js";import{m as J}from"./mapRouteFromDto-JZc1Tx66.js";import{g as O}from"./groupLessonsByLevelAndType-C-co-UzZ.js";import{_ as Q}from"./UserMenu.vue_vue_type_script_setup_true_lang-3l-gndQ6.js";import"./index-5bJt7VTk.js";import"./index-C1N2nWcC.js";import"./index-DYe12pIs.js";import"./index-DnxWnOWO.js";import"./index-BEGyIpqi.js";import"./lessonApi-CDtd4rn4.js";import"./mapLessonFromDto-C2sH6sUU.js";import"./mapUnitFromDto-DRcH-Z8v.js";import"./transformUnitDtosToPages-BbPlv-Pt.js";import"./lessonType-DG-bLtoJ.js";import"./logo-D1-3uCnC.js";import"./PremiumForm.vue_vue_type_script_setup_true_lang-DOQWPUhj.js";import"./index-CmgTJnJ7.js";import"./index-DoQeMzHI.js";import"./index-BQlFFWCz.js";import"./index-DZ_1xp5G.js";import"./index-ZflZKAdM.js";import"./LocaleSelectButton.vue_vue_type_script_setup_true_lang-D5A7GxOk.js";import"./index-csPL02fk.js";import"./language-DYQF8nnT.js";const X={},Y={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ee(y,l){return o(),r("svg",Y,l[0]||(l[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5303 5.46967C10.8232 5.76256 10.8232 6.23744 10.5303 6.53033L5.81066 11.25H20C20.4142 11.25 20.75 11.5858 20.75 12C20.75 12.4142 20.4142 12.75 20 12.75H5.81066L10.5303 17.4697C10.8232 17.7626 10.8232 18.2374 10.5303 18.5303C10.2374 18.8232 9.76256 18.8232 9.46967 18.5303L3.46967 12.5303C3.17678 12.2374 3.17678 11.7626 3.46967 11.4697L9.46967 5.46967C9.76256 5.17678 10.2374 5.17678 10.5303 5.46967Z",fill:"currentColor"},null,-1)]))}const se=K(X,[["render",ee]]),te=A("route-store",()=>{const y=F(),l=$(null),g=$({}),c=$(!1);async function w(e){var n,f;try{c.value=!0;const{data:v}=await Z.getRouteById(e);l.value=J(v),g.value=O(((n=l.value)==null?void 0:n.lessons)??[],((f=l.value)==null?void 0:f.levels)??[])}catch(v){y.add({severity:"error",summary:v.response.data.error,life:2e3})}finally{c.value=!1}}return{selectedRoute:l,isRouteLoading:c,groupedLessons:g,loadRouteById:w}}),oe={class:"flex gap-2 w-full h-full items-center"},le={class:"flex-grow h-full flex flex-col justify-between"},re={class:"flex flex-col gap-[2px]"},ae={class:"text-overline-small"},ne={class:"text-body-large-semibold text-neutral900"},ie={class:"flex gap-1 items-center"},ce={class:"text-body-large-regular text-neutral600"},ue=B({__name:"ContinueLessonCard",props:{lesson:{},route_id:{}},setup(y){const l=y,g=P(),c=$(!1),w=()=>{if(l.lesson.accessStatus!=="available"){l.lesson.accessStatus=="premium_restriction"&&(c.value=!0);return}g.push({name:l.lesson.lessonType=="project"?"project":l.lesson.studentProgress==100?"lesson-revise":"lesson",params:{id:l.lesson.id},query:{route_id:l.route_id}})};return(e,n)=>{const f=N,v=R;return o(),r(b,null,[s("div",{class:D(["rounded-2xl h-[180px] min-w-[440px] p-6 relative",e.lesson.lessonType=="learn"?"bg-[var(--color-purple50)]":e.lesson.lessonType=="practice"?"bg-[var(--color-primary50)]":"bg-slate-50"])},[s("div",oe,[s("div",le,[s("div",re,[s("div",ae,i(e.lesson.description),1),s("div",ne,i(e.lesson.name),1),s("div",ie,[d(t(S),{value:e.lesson.studentProgress,size:15,strokeWidth:2},null,8,["value"]),s("div",ce,[T(i(e.lesson.studentProgress),1),n[1]||(n[1]=s("span",{class:"ml-[2px]"},"%",-1))])])]),d(f,{label:e.$t("continue"),class:"min-w-[83px] w-fit",size:"small",severity:e.lesson.lessonType=="learn"?"help":void 0,onClick:w},null,8,["label","severity"])]),l.lesson.sourceImageUrl?(o(),C(v,{key:0,src:l.lesson.sourceImageUrl,alt:"Image",class:"min-w-[120px] min-h-[120px] w-[120px] h-[120px]"},null,8,["src"])):h("",!0)])],2),d(t(Q),{"model-value":c.value,"onUpdate:modelValue":n[0]||(n[0]=m=>c.value=m)},null,8,["model-value"])],64)}}}),de={class:"flex flex-col items-center"},pe={class:"w-full flex max-w-[1280px] px-8 pt-10 justify-start"},me={class:"text-heading-3-semibold text-neutral"},_e={class:"w-full max-w-[1280px] p-8"},fe={key:1,class:"flex justify-center"},ve={key:2,class:"flex flex-col gap-8"},xe={class:"flex gap-4"},ge={class:"flex gap-[52px] items-center p-6 bg-white rounded-2xl h-[180px]"},he={class:"flex flex-col gap-[15px]"},ye={class:"flex flex-col gap-2"},we={class:"flex gap-4 items-center"},be={class:"text-heading-3-semibold"},ke={class:"flex gap-1 items-center"},$e={class:"text-heading-3-regular text-neutral600"},Ce={class:"text-lg text-gray-500 line-clamp-2"},je={class:"text-heading-3-semibold text-neutral500 px-6"},Ie={key:0,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},Le={class:"flex justify-between"},Re={class:"text-heading-4-semibold text-neutral600"},Be={class:"flex overflow-x-scroll gap-4"},Te={key:1,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},Pe={class:"text-heading-4-semibold text-neutral600"},Ne={class:"flex overflow-x-scroll gap-4"},Se={key:2,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},Ve={class:"text-heading-4-semibold text-neutral600"},ze={class:"flex flex-wrap gap-4"},fs=B({__name:"RoutePage",setup(y){const l=W(),g=P(),c=te(),{isRouteLoading:w,selectedRoute:e,groupedLessons:n}=M(c),{loadRouteById:f}=c;U(()=>f(Number(l.params.id)));const{locale:v}=q();H(v,async()=>{await f(Number(l.params.id))});const m=L(()=>{const u={};for(const a in n.value)u[a]={learn:n.value[a].learn.filter(x=>x.stage==="published"),practice:n.value[a].practice.filter(x=>x.stage==="published"),project:n.value[a].project.filter(x=>x.stage==="published")};return u}),I=L(()=>!e.value||!Array.isArray(e.value.lessons)?null:e.value.lessons.find(a=>a.studentProgress!==100&&!a.completed&&a.stage=="published")??e.value.lessons[0]??null);return(u,a)=>{const x=E,V=N,z=R;return o(),r("div",de,[d(t(G)),s("div",pe,[s("div",{class:"flex gap-2 items-center cursor-pointer",onClick:a[0]||(a[0]=p=>t(g).replace({name:t(e)&&t(e).routeType=="hackathon"?"hackathon":"courses"}))},[d(t(se),{class:"w-6 h-6 text-neutral"}),s("div",me,i(t(e)&&t(e).routeType=="hackathon"?u.$t("hackathon"):u.$t("courses")),1)])]),s("div",_e,[t(w)?(o(),C(x,{key:0,class:"flex justify-center"})):t(e)?(o(),r("div",ve,[s("div",xe,[s("div",ge,[s("div",he,[s("div",ye,[s("div",we,[s("div",be,i(t(e).name),1),s("div",ke,[d(t(S),{value:t(e).studentProgress,size:18,strokeWidth:2},null,8,["value"]),s("div",$e,[T(i(t(e).studentProgress),1),a[1]||(a[1]=s("span",{class:"ml-[2px]"},"%",-1))])])]),s("div",Ce,i(t(e).description),1)]),d(V,{label:u.$t("readMore"),size:"small",variant:"outlined",class:"w-fit"},null,8,["label"])]),t(e).sourceImage_url?(o(),C(z,{key:0,src:t(e).sourceImage_url,alt:"Image",class:"min-w-[120px] min-h-[120px] w-[120px] h-[120px]"},null,8,["src"])):h("",!0)]),I.value?(o(),C(ue,{key:0,lesson:I.value,route_id:t(e).id},null,8,["lesson","route_id"])):h("",!0)]),(o(!0),r(b,null,k(t(e).levels,p=>(o(),r("div",{key:p.id,class:"flex flex-col gap-4"},[s("div",je,i(p.name),1),m.value[p.id].learn.length>0?(o(),r("div",Ie,[s("div",Le,[s("div",Re,i(u.$t("pages.projects.learn")),1)]),s("div",Be,[(o(!0),r(b,null,k(m.value[p.id].learn,_=>(o(),r("div",{key:_.id},[d(t(j),{lesson:_,route_id:t(e).id},null,8,["lesson","route_id"])]))),128))])])):h("",!0),m.value[p.id].practice.length>0?(o(),r("div",Te,[s("div",Pe,i(u.$t("pages.projects.practice")),1),s("div",Ne,[(o(!0),r(b,null,k(m.value[p.id].practice,_=>(o(),r("div",{key:_.id},[d(t(j),{lesson:_,route_id:t(e).id},null,8,["lesson","route_id"])]))),128))])])):h("",!0),t(e).routeType=="hackathon"&&m.value[p.id].project.length>0?(o(),r("div",Se,[s("div",Ve,i(u.$t("project")),1),s("div",ze,[(o(!0),r(b,null,k(m.value[p.id].project,_=>(o(),r("div",{key:_.id},[d(t(j),{lesson:_,route_id:t(e).id},null,8,["lesson","route_id"])]))),128))])])):h("",!0)]))),128))])):(o(),r("div",fe,"No route found"))])])}}});export{fs as default};
