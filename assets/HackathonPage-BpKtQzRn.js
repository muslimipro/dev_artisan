import{s as P,a as F}from"./index-CQCkvxda.js";import{s as G}from"./index-B3NttIqY.js";import{e as L,r as d,D as M,b as T,o as t,c as o,a as s,t as l,G as j,F as k,q as A,j as B,y as U,u as q,a5 as z,C as J,k as v,h as S,i as C,w as I,n as R,l as Y}from"./index-8eYd0-Co.js";import{s as K}from"./index-DXpPoTSi.js";import{s as O}from"./index-DQafit8Y.js";import{_ as Q}from"./MainHeader.vue_vue_type_script_setup_true_lang-9nA_jXJL.js";import"./index-v1ivQW6n.js";import{H as V}from"./hackathonApi-DIfw8bCS.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserMenu.vue_vue_type_script_setup_true_lang-BRlzN8C8.js";import"./index-WXQmNEQQ.js";import"./index-B8MXaspB.js";import"./logo-D1-3uCnC.js";import"./PremiumForm.vue_vue_type_script_setup_true_lang-Ba8DXsyo.js";import"./index-19jCyGXe.js";import"./otherApi-DDWnLwKS.js";import"./index-Ck89Hfr2.js";import"./index-eKsVto-V.js";import"./index-c_rbGUP2.js";import"./index-DCkUGzHX.js";import"./LocaleSelectButton.vue_vue_type_script_setup_true_lang-DZQGeYqM.js";import"./index-DSyhlytj.js";import"./language-DYQF8nnT.js";import"./index-BqAwfTve.js";const X={class:"w-full flex flex-col items-center"},Z={class:"flex flex-col items-center space-y-2 text-sm text-white mb-6"},ee={class:"flex items-center gap-2 text-overline-medium"},te={key:0},se={key:1},ae={key:0,class:"mb-6 flex flex-col items-center"},oe={class:"text-overline-small text-sky-700"},le={class:"p-4 rounded-2xl inline-flex"},ne={class:"flex gap-2 items-center"},ie={key:0,class:"w-10 h-12 rounded-xl flex items-center justify-center bg-white/30 text-white font-bold text-xl"},re={key:1,class:"text-white font-bold text-xl px-1"},ce={key:1,class:"mb-6 flex flex-col items-center"},de={class:"text-overline-small text-green-700"},ue={class:"p-4 rounded-2xl inline-flex"},me={class:"flex gap-2 items-center"},pe={key:0,class:"w-10 h-12 rounded-xl flex items-center justify-center bg-white/30 text-white font-bold text-xl"},fe={key:1,class:"text-white font-bold text-xl px-1"},ve=L({__name:"CountdownTimer",props:{data:{}},setup(D){const _=D,y=d(""),f=d(),m=d(),n=d([]),r=d(!1),p=d(!1);let x;y.value=_.data.name,f.value=new Date(_.data.starts_at),m.value=new Date(_.data.ends_at),w();function w(){if(!f.value||!m.value)return;const e=()=>{const u=new Date().getTime(),i=f.value.getTime(),c=m.value.getTime();let h=0;u<i?(r.value=!1,p.value=!1,h=i-u):u>=i&&u<c?(r.value=!0,p.value=!1,h=c-u):(r.value=!0,p.value=!0,n.value=[],clearInterval(x)),n.value=$(h)};e(),x=setInterval(e,1e3)}function $(e){const u=Math.floor(e/36e5).toString().padStart(2,"0"),i=Math.floor(e%36e5/6e4).toString().padStart(2,"0"),c=Math.floor(e%6e4/1e3).toString().padStart(2,"0");return[...`${u}:${i}:${c}`]}M(()=>clearInterval(x));const g=T(()=>{var e;return((e=f.value)==null?void 0:e.toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))||""}),a=T(()=>{var e;return((e=m.value)==null?void 0:e.toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))||""});return(e,u)=>(t(),o("div",{class:U(["flex flex-col gap-4 rounded-2xl p-6 relative min-w-[440px]",r.value?"bg-primary400":"bg-blue400"])},[s("div",X,[s("div",Z,[s("div",ee,[r.value&&!p.value?(t(),o("span",te,[s("b",null,l(e.$t("endsAt"))+":",1),j(" "+l(a.value),1)])):(t(),o("span",se,[s("b",null,l(e.$t("startsAt"))+":",1),j(" "+l(g.value),1)]))])]),!r.value&&!p.value?(t(),o("div",ae,[s("div",oe,l(e.$t("startsIn")),1),s("div",le,[s("div",ne,[(t(!0),o(k,null,A(n.value,(i,c)=>(t(),o(k,{key:c},[i!==":"?(t(),o("div",ie,l(i),1)):(t(),o("div",re,":"))],64))),128))])])])):r.value&&!p.value?(t(),o("div",ce,[s("div",de,l(e.$t("endsIn")),1),s("div",ue,[s("div",me,[(t(!0),o(k,null,A(n.value,(i,c)=>(t(),o(k,{key:c},[i!==":"?(t(),o("div",pe,l(i),1)):(t(),o("div",fe,":"))],64))),128))])])])):B("",!0)])],2))}}),_e=W(ve,[["__scopeId","data-v-efd16e92"]]),xe={class:"flex flex-col items-center"},ge={class:"w-full max-w-[1280px] px-8 py-10 flex flex-col gap-8"},he={key:1,class:"flex flex-col gap-8"},ye={class:"flex gap-4"},we={key:0,class:"w-full flex gap-[52px] p-6 bg-white rounded-2xl"},$e={class:"flex-grow flex flex-col gap-[15px]"},ke={class:"flex gap-2 items-center justify-between"},be={class:"text-heading-3-semibold"},Se={key:0,class:"text-lg text-gray-500 line-clamp-3"},Ce={key:1,class:"text-lg text-gray-500 line-clamp-3"},Ie={key:2,class:"self-end flex gap-4"},Te={key:1,class:"w-full flex gap-[52px] p-6 bg-white rounded-2xl"},je={class:"flex-grow flex flex-col gap-[15px] max-w-2xl"},Be={class:"flex flex-col gap-2"},De={class:"text-heading-3-semibold"},He={class:"text-lg text-gray-500 line-clamp-2"},Ae={key:3,class:"flex flex-col gap-4 rounded-2xl p-6 relative bg-white min-w-[440px]"},Ve={class:"flex flex-col flex-grow"},Le={class:"text-body-medium-regular mb-1"},nt=L({__name:"HackathonPage",setup(D){const _=q(),y=R(),f=d(!1),m=d(!1),n=d(null),r=d("");async function p(){try{f.value=!0;const{data:a}=await V.getHackathon();n.value=a}catch(a){console.log(a)}finally{f.value=!1}}z(p);async function x(){if(r.value!="")try{m.value=!0;const{data:a}=await V.joinHackathon(r.value);_.add({severity:"success",summary:a.message,life:2e3}),p()}catch(a){_.add({severity:"error",summary:a.response.data.error,detail:a,life:2e3})}finally{m.value=!1}}const w=d(Date.now());let $;J(()=>{$=window.setInterval(()=>{w.value=Date.now()},1e3)}),M(()=>{clearInterval($)});const g=T(()=>{if(!n.value)return!1;const a=new Date(n.value.starts_at).getTime();return w.value>=a});return(a,e)=>{var H;const u=O,i=K,c=Y,h=P,E=G,N=F;return t(),o("div",xe,[v(S(Q)),s("div",ge,[e[4]||(e[4]=s("div",{class:"text-heading-2-bold text-neutral900"},l("Хакатон"),-1)),f.value?(t(),C(u,{key:0,class:"flex justify-center"})):(t(),o("div",he,[s("div",ye,[n.value?(t(),o("div",we,[s("div",$e,[s("div",ke,[s("div",be,l((H=n.value)==null?void 0:H.name),1),g.value?B("",!0):(t(),C(i,{key:0,severity:"secondary"},{default:I(()=>[j(l(a.$t("notStartedYet")),1)]),_:1}))]),g.value?(t(),o("div",Ce,l(a.$t("completeAllAvailableProjects")),1)):(t(),o("div",Se,l(a.$t("hackathonIsStartingSoon")),1)),g.value?(t(),o("div",Ie,[v(c,{label:a.$t("standings"),icon:"pi pi-list-check",class:"w-fit",variant:"outlined",onClick:e[0]||(e[0]=b=>S(y).push({name:"hackathon-standings",params:{id:n.value.id}}))},null,8,["label"]),v(c,{label:a.$t("tasks"),icon:"pi pi-code",class:"w-fit",onClick:e[1]||(e[1]=b=>S(y).push({name:"route",params:{id:n.value.route_id}}))},null,8,["label"])])):B("",!0)])])):(t(),o("div",Te,[s("div",je,[s("div",Be,[s("div",De,l(a.$t("joinTheHackathon")),1),s("div",He,l(a.$t("toStartParticipatingEnterCode")),1)])])])),n.value?(t(),C(_e,{key:2,data:n.value},null,8,["data"])):(t(),o("div",Ae,[s("div",Ve,[s("div",Le,l(a.$t("pages.settings.enterCode")),1),v(N,null,{default:I(()=>[v(h,null,{default:I(()=>e[3]||(e[3]=[s("i",{class:"pi pi-key"},null,-1)])),_:1}),v(E,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=b=>r.value=b),class:"w-full"},null,8,["modelValue"])]),_:1}),v(c,{label:a.$t("participate"),class:"w-fit self-end mt-4",onClick:x,loading:m.value,disabled:m.value},null,8,["label","loading","disabled"])])]))])]))])])}}});export{nt as default};
