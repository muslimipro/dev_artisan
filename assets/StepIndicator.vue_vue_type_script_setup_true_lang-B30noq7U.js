import{d as Z,r as _,b as r,V as $,e as T,f as V,o as u,c as C,a as t,j as w,y as c,t as y,F as D,H as A,i as B,I as N,h as k,l as P,k as M,n as E,W as F,Q as O,v as q}from"./index-BXslawiU.js";import{R as U}from"./routeApi-ynnPXWsk.js";import{T as H}from"./index-De9rL6wl.js";import{s as Q}from"./index-CeAgpK5A.js";import{L as W}from"./lessonApi-B6FvAxav.js";import"./index-DkBeW8WF.js";import{_ as G}from"./UserMenu.vue_vue_type_script_setup_true_lang-DWoBqxEk.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b1=Z("roadmap-store",()=>{const o=_(!1),e=_(null),n=_(!1),m=r(()=>e.value!==null&&e.value.lessons.length>0),a=r(()=>{var l;return((l=e.value)==null?void 0:l.lessons)??[]}),p=r(()=>{const l=a.value.length;if(l===0)return 0;const g=a.value.filter(L=>L.completed).length;return Math.round(g/l*100)}),d=r(()=>{const l={learn:{done:0,total:0},practice:{done:0,total:0},module:{done:0,total:0},project:{done:0,total:0}};for(const g of a.value)l[g.lesson_type].total++,g.completed&&l[g.lesson_type].done++;return l}),v=r(()=>{var l;return((l=e.value)==null?void 0:l.name)??""}),i=r(()=>{var l;return((l=e.value)==null?void 0:l.description)??""});async function f(){try{o.value=!0,n.value=!1;const{data:l}=await U.getRouteById($);e.value=l}catch{n.value=!0}finally{o.value=!1}}return{isLoading:o,route:e,hasLessons:m,progress:p,lessonsByType:d,goal:v,projectDescription:i,lessons:a,loadRoadmap:f}});function M1(o,e,n){const m=e===n.length-1,a=o.completed,p=n.findIndex(f=>!f.completed),d=p===-1,v=!d&&e>p,i=p+1;return d?m?{status:"finished",isCurrent:!1,isLocked:!1,lessonType:o.lesson_type}:e===0?{status:"start",isCurrent:!1,isLocked:!1,lessonType:o.lesson_type}:{status:"done",isCurrent:!1,isLocked:!1,lessonType:o.lesson_type}:v?e===i?{status:"next-lesson",isCurrent:!1,isLocked:!0,lessonType:o.lesson_type}:{status:"closed",isCurrent:!1,isLocked:!0,lessonType:o.lesson_type}:e===p?{status:"in-progress",isCurrent:!0,isLocked:!1,lessonType:o.lesson_type}:a?e===0?{status:"start",isCurrent:!1,isLocked:!1,lessonType:o.lesson_type}:{status:"done",isCurrent:!1,isLocked:!1,lessonType:o.lesson_type}:{status:"closed",isCurrent:!1,isLocked:!0,lessonType:o.lesson_type}}const J={key:0,class:"pulse-container_for-card"},K={class:"flex flex-col flex-1 min-w-0"},X={class:"flex items-center gap-2"},Y={key:0,class:"text-purple h-[22px] w-4"},e1={key:0,class:"flex-shrink-0"},s1=["src","alt"],t1={class:"flex-col gap-1"},o1={class:"flex items-center gap-1"},T1=T({__name:"RoadmapCard",props:{lesson:{},isLocked:{type:Boolean},isCurrent:{type:Boolean},variant:{}},setup(o){const e=o,{t:n}=V(),m=E(),a=_(!1),p=r(()=>e.lesson.access_status==="premium_restriction"),d=r(()=>e.lesson.completed),v=r(()=>e.lesson.student_progress>0),i=r(()=>{const s={learn:{bg:"bg-primary50",progressBg:"var(--color-primary100)",progressValue:"var(--color-primary400)",textColor:"text-primary400"},practice:{bg:"bg-purple50",progressBg:"var(--color-purple100)",progressValue:"var(--color-purple400)",textColor:"text-purple400"},module:{bg:"bg-warning50",progressBg:"var(--color-warning100)",progressValue:"var(--color-warning400)",textColor:"text-warning400"},project:{bg:"bg-blue50",progressBg:"var(--color-blue-100)",progressValue:"var(--color-blue400)",textColor:"text-blue400"}};return s[e.lesson.lesson_type]||s.learn}),f=r(()=>({learn:n("lesson"),practice:n("practice"),module:n("module"),project:n("project")})[e.lesson.lesson_type]||""),l=r(()=>d.value||e.lesson.student_progress===100?n("done"):e.lesson.student_progress===0?n("start"):n("inProgress"));function g(){if(e.isLocked)return;if(p.value){a.value=!0;return}const s=e.lesson.lesson_type==="project"?"project":e.lesson.student_progress===100?"lesson-revise":"lesson";m.push({name:s,params:{id:e.lesson.id},query:{route_id:e.lesson.route_id}})}async function L(){if(!e.isLocked){if(p.value){a.value=!0;return}await W.resetLessonById(e.lesson.id),m.push({name:"lesson",params:{id:e.lesson.id},query:{route_id:e.lesson.route_id}})}}const x=r(()=>e.variant==="compact"),z=r(()=>x.value?"md:max-w-[398px] h-[150px] px-3 pt-2":"min-w-full h-[100px] sm:h-[110px] md:w-[264px] md:h-[124px] lg:w-[340px] lg:h-[140px] xl:w-[398px] xl:h-[150px] px-2 pt-2 md:px-3 md:pt-3"),R=r(()=>x.value?"w-[70px] h-[70px] sm:w-[100px] sm:h-[100px]":"w-[50px] h-[50px] md:w-[70px] md:h-[70px] lg:w-[88px] lg:h-[88px] xl:w-[100px] xl:h-[100px]"),I=r(()=>x.value?"flex-col-reverse sm:flex-row sm:items-end gap-2":"items-end gap-2");return(s,h)=>{const j=H;return u(),C("div",{class:c(["card-wrapper max-w-[398px] flex-1",[{"is-current":s.isCurrent},x.value?"":"md:flex-none"]])},[s.isCurrent?(u(),C("div",J,h[1]||(h[1]=[t("div",{class:"pulse-wave_for-card pulse-wave-1_for-card"},null,-1),t("div",{class:"pulse-wave_for-card pulse-wave-2_for-card"},null,-1),t("div",{class:"pulse-wave_for-card pulse-wave-3_for-card"},null,-1)]))):w("",!0),t("div",{class:c(["roadmap-card relative flex flex-col rounded-lg transition-all justify-between",[z.value,s.isLocked?"bg-neutral50 cursor-not-allowed grayscale shadow-small":i.value.bg,{"cursor-pointer hover:shadow-md shadow-small":!s.isLocked&&!s.isCurrent},{"cursor-pointer shadow-small":s.isCurrent}]]),onClick:g},[t("div",{class:c(["flex",I.value])},[t("div",K,[t("div",{class:c(["flex items-center gap-1 text-overline-small uppercase tracking-wider mb-1",s.isLocked?"text-neutral400":"text-neutral500"]),style:{"font-size":"clamp(8px, 1.5vw, 10px)"}},y(f.value),3),t("div",X,[p.value?(u(),C("div",Y,h[2]||(h[2]=[t("i",{class:"pi pi-crown","aria-hidden":"true"},null,-1)]))):w("",!0),t("div",{class:c(["text-body-large-semibold",[s.isLocked?"text-neutral400":"text-neutral900",x.value?"line-clamp-1":"line-clamp-2"]]),style:{"font-size":"clamp(14px, 2.5vw, 18px)"}},y(s.lesson.name),3)])]),s.lesson.source_image_url?(u(),C("div",e1,[t("img",{src:s.lesson.source_image_url,alt:s.lesson.name,class:c(["object-contain rounded-lg",[R.value,{"opacity-50 grayscale":s.isLocked}]])},null,10,s1)])):w("",!0)],2),t("div",t1,[t("div",o1,[t("span",{class:c(["action-small-bold",s.isLocked?"text-neutral400":i.value.textColor]),style:{"font-size":"clamp(10px, 1.5vw, 12px)"}},y(l.value),3),v.value?(u(),C(D,{key:0},[t("span",{class:c(["action-small-regular",s.isLocked?"text-neutral400":i.value.textColor]),style:{"font-size":"clamp(10px, 1.5vw, 12px)"}},"â€¢",2),t("span",{class:c(["action-small-regular",s.isLocked?"text-neutral400":i.value.textColor]),style:{"font-size":"clamp(10px, 1.5vw, 12px)"}},y(s.lesson.student_progress)+"%",3)],64)):w("",!0),v.value||d.value?A((u(),B(k(P),{key:1,icon:"pi pi-refresh",variant:"link",size:"small",class:c([i.value.textColor,"reset-btn !p-0 !w-auto !h-auto ml-auto opacity-0 transition-opacity"]),onClick:N(L,["stop","prevent"])},null,8,["class"])),[[j,s.$t("startOver"),void 0,{top:!0}]]):w("",!0)]),M(k(Q),{value:s.lesson.student_progress,"show-value":!1,class:"w-full rounded-full h-0.5",dt:{value:{background:s.isLocked?"var(--color-neutral300)":i.value.progressValue},background:s.isLocked?"var(--color-neutral200)":i.value.progressBg}},null,8,["value","dt"])])],2),M(k(G),{"model-value":a.value,"onUpdate:modelValue":h[0]||(h[0]=S=>a.value=S)},null,8,["model-value"])],2)}}}),r1={},l1={width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function n1(o,e){return u(),C("svg",l1,e[0]||(e[0]=[F('<path d="M19.5328 17.3774C20.4061 18.4122 20.8632 19.5427 20.8443 20.8433C20.8183 22.6351 19.8978 23.984 18.6043 25.0916C17.097 26.3821 15.2754 26.9264 13.3258 27.0793C12.8988 27.1038 12.4709 27.1052 12.0437 27.0836C11.8592 27.08 11.6764 27.0475 11.502 26.9871C10.8029 26.7339 10.6967 26.2161 11.251 25.7289C11.7953 25.2509 12.3826 24.8201 12.9068 24.3221C13.3086 23.9376 13.6724 23.5151 13.9933 23.0609C14.333 22.5827 14.3629 22.0311 14.1523 21.3952C13.8166 21.5515 13.495 21.676 13.1995 21.8454C12.5798 22.2005 12.2302 22.1857 11.6986 21.719C11.1821 21.2655 10.6745 20.8018 10.1606 20.3452C10.0841 20.2855 10.0042 20.2304 9.92129 20.1802C9.60957 20.4683 9.31981 20.7557 9.00919 21.0182C8.59757 21.3663 8.18929 21.3754 7.9222 21.0672C7.67185 20.7788 7.71303 20.3975 8.07477 20.0268C8.33147 19.7636 8.6248 19.5359 8.84155 19.3449C8.25871 18.6336 7.67129 18.0503 7.24894 17.3659C6.75539 16.5657 7.36536 15.8523 7.74652 15.0694C7.01891 15.0237 6.42055 15.157 5.93961 15.5259C5.48063 15.898 5.06672 16.3225 4.70629 16.7908C4.35716 17.2216 4.0856 17.7151 3.77566 18.178C3.48346 18.6145 3.18411 19.0733 2.56889 19.0099C2.14298 18.966 1.54908 18.1987 1.50969 17.6221C1.42039 16.3074 1.58782 15.028 2.20169 13.8395C3.32629 11.6631 5.09794 10.2478 7.40587 9.49061C8.37288 9.17341 9.34705 9.27442 10.3334 9.57489C10.3881 9.51193 10.4522 9.44922 10.5036 9.37744C13.1671 5.65503 16.7969 3.29218 21.0956 1.88898C22.5596 1.41117 24.0408 0.976207 25.6014 0.936361C25.9912 0.926428 26.3813 0.896623 26.7709 0.901087C27.279 0.90678 27.5324 1.08704 27.5118 1.58338C27.4854 2.54391 27.3956 3.50163 27.2426 4.45028C26.6154 8.01777 24.8998 11.0774 22.6714 13.868C21.8041 14.9542 20.8275 15.9535 19.8995 16.9914C19.7898 17.1137 19.6731 17.23 19.5328 17.3774ZM10.8616 19.0332C11.442 19.4944 11.8647 19.8563 12.3191 20.1717C12.3963 20.2081 12.4807 20.2266 12.566 20.2263C12.6514 20.2258 12.7356 20.2064 12.8124 20.1692C13.5327 19.7874 14.2692 19.4221 14.9396 18.963C17.3276 17.3277 19.4879 15.4276 21.304 13.1673C22.2892 11.941 23.1907 10.6476 24.1486 9.35958L18.598 4.20506C18.4148 4.29075 18.2363 4.38617 18.0633 4.49091C16.9806 5.20937 15.8769 5.89957 14.8314 6.66881C13.6594 7.53092 12.6678 8.58442 11.7825 9.74566C10.3142 11.6713 9.44973 13.92 8.36329 16.0496C8.25525 16.2616 8.31586 16.6888 8.46899 16.8784C8.86755 17.3721 9.36112 17.7892 9.89664 18.3152C10.7337 17.4475 11.4704 16.6367 12.261 15.8814C12.7165 15.4724 13.2049 15.1017 13.7213 14.7728C13.9927 14.5884 14.3393 14.5256 14.5876 14.8088C14.8393 15.0958 14.6225 15.377 14.4456 15.6077C14.2365 15.8683 14.0099 16.1144 13.7675 16.3443C13.2652 16.8408 12.7618 17.3358 12.2444 17.816C11.8103 18.2195 11.3556 18.6001 10.8616 19.0332ZM26.4598 1.9871C24.0849 1.99189 21.9886 2.87486 19.8513 3.59343L19.8133 3.74131L24.7288 7.8853C25.5711 6.5504 26.217 4.34961 26.4598 1.9871ZM14.6971 24.9871C16.697 24.6105 18.2464 23.5961 19.1171 21.7371C19.6974 20.4963 19.292 19.3384 18.6079 18.2375C17.4564 19.1165 16.355 19.9576 15.2538 20.7984C16.1212 22.329 15.677 23.677 14.6971 24.9871ZM9.71917 10.5078C6.85986 10.039 2.9073 13.9053 3.16367 16.5595C4.33126 14.7157 5.82956 13.6048 8.08426 14.0045L9.71917 10.5078Z" fill="white"></path><path d="M2.82632 26.3025C2.91953 26.134 3.01961 25.8271 3.21928 25.6138C3.97229 24.8099 4.75291 24.0316 5.53404 23.2545C5.76342 23.0263 6.05359 22.8824 6.35212 23.126C6.66697 23.3829 6.52919 23.6899 6.34316 23.944C5.7046 24.8159 5.06458 25.6877 4.38979 26.5314C4.18908 26.7619 3.93397 26.9387 3.6476 27.0455C3.22248 27.2131 2.81146 26.876 2.82632 26.3025Z" fill="white"></path><path d="M9.8203 23.1757C10.2731 23.188 10.6022 23.5963 10.4008 23.9124C9.88786 24.7084 9.3244 25.4706 8.71389 26.1943C8.49517 26.4562 8.10247 26.4192 7.82469 26.1685C7.69769 26.0611 7.6146 25.9106 7.59121 25.7458C7.56783 25.5812 7.60577 25.4135 7.69784 25.2749C7.8645 24.9974 8.06266 24.7402 8.28839 24.508C8.62277 24.1519 8.97606 23.8123 9.33929 23.4861C9.48959 23.3678 9.65062 23.264 9.8203 23.1757Z" fill="white"></path><path d="M5.77523 19.7213C5.68879 19.9123 5.58669 20.0958 5.46996 20.2698C4.89977 20.9816 4.32081 21.6862 3.73311 22.3835C3.62266 22.5025 3.4942 22.6033 3.35242 22.6821C3.05894 22.8626 2.76054 22.8623 2.5239 22.5951C2.2794 22.3191 2.33368 22.0127 2.57879 21.7752C3.38116 20.9975 4.19273 20.2287 5.02039 19.4781C5.12859 19.3798 5.35896 19.3639 5.51724 19.3931C5.61229 19.4107 5.67762 19.5896 5.77523 19.7213Z" fill="white"></path><path d="M17.8711 6.10537C18.6685 6.09442 19.2833 6.42057 19.9003 6.93449C20.54 7.46719 21.0179 8.03539 21.254 8.82952C21.799 10.6663 20.7206 12.0185 18.9718 12.2658C17.5545 12.4662 16.3523 11.8825 15.4779 10.7731C14.7288 9.82235 14.7085 8.71606 15.2281 7.653C15.752 6.58035 16.6957 6.11678 17.8711 6.10537ZM16.1879 9.04823C16.3927 9.40164 16.5397 9.85219 16.8449 10.1276C17.161 10.4129 17.6206 10.5542 18.0352 10.7119C18.5798 10.9192 19.0513 10.6996 19.4214 10.3143C19.7797 9.9416 19.7929 9.47349 19.6178 8.99667C19.342 8.2449 18.6988 7.86763 18.0527 7.52736C17.4726 7.22185 16.9221 7.40457 16.5914 7.97669C16.4228 8.26785 16.3474 8.61292 16.1879 9.04823Z" fill="white"></path>',5)]))}const a1=b(r1,[["render",n1]]),i1={},u1={width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function p1(o,e){return u(),C("svg",u1,e[0]||(e[0]=[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M29.5606 9.43934C30.1464 10.0251 30.1464 10.9749 29.5606 11.5607L15.6213 25.5C14.4497 26.6716 12.5502 26.6715 11.3787 25.5L4.93934 19.0606C4.35356 18.4749 4.35356 17.5251 4.93934 16.9394C5.52513 16.3536 6.47487 16.3536 7.06066 16.9394L13.5 23.3787L27.4394 9.43934C28.0251 8.85356 28.9749 8.85356 29.5606 9.43934Z",fill:"currentColor"},null,-1)]))}const c1=b(i1,[["render",p1]]),d1={},C1={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function m1(o,e){return u(),C("svg",C1,e[0]||(e[0]=[t("path",{opacity:"0.5",d:"M14.8612 9.36335C15.3679 8.45445 15.6212 8 16 8C16.3788 8 16.6321 8.45445 17.1388 9.36335L17.2699 9.59849C17.4137 9.85677 17.4857 9.98592 17.598 10.0711C17.7103 10.1563 17.85 10.188 18.1296 10.2512L18.3841 10.3088C19.368 10.5314 19.86 10.6427 19.9771 11.0191C20.0941 11.3955 19.7587 11.7876 19.088 12.572L18.9144 12.7749C18.7239 12.9978 18.6285 13.1092 18.5856 13.2471C18.5428 13.3849 18.5572 13.5336 18.586 13.8311L18.6123 14.1017C18.7136 15.1483 18.7644 15.6715 18.458 15.9041C18.1515 16.1367 17.6909 15.9247 16.7697 15.5005L16.5315 15.3908C16.2696 15.2703 16.1388 15.21 16 15.21C15.8612 15.21 15.7304 15.2703 15.4685 15.3908L15.2303 15.5005C14.3091 15.9247 13.8485 16.1367 13.542 15.9041C13.2356 15.6715 13.2863 15.1483 13.3877 14.1017L13.414 13.8311C13.4428 13.5336 13.4572 13.3849 13.4144 13.2471C13.3715 13.1092 13.2762 12.9978 13.0856 12.7749L12.912 12.572C12.2413 11.7876 11.9059 11.3955 12.023 11.0191C12.14 10.6427 12.6319 10.5314 13.6159 10.3088L13.8704 10.2512C14.15 10.188 14.2897 10.1563 14.402 10.0711C14.5143 9.98592 14.5863 9.85677 14.7301 9.59849L14.8612 9.36335Z",stroke:"white","stroke-width":"2"},null,-1),t("path",{d:"M25.3332 12C25.3332 17.1546 21.1545 21.3333 15.9998 21.3333C10.8452 21.3333 6.6665 17.1546 6.6665 12C6.6665 6.84531 10.8452 2.66663 15.9998 2.66663C21.1545 2.66663 25.3332 6.84531 25.3332 12Z",stroke:"white","stroke-width":"2"},null,-1),t("path",{opacity:"0.5",d:"M15.9998 21.4237L10.9712 26.6304C10.2511 27.3761 9.89099 27.7489 9.58606 27.8779C8.89119 28.1719 8.12039 27.9203 7.75487 27.2803C7.59446 26.9993 7.54447 26.4927 7.4445 25.4793C7.38806 24.9072 7.35983 24.6211 7.27417 24.3815C7.08238 23.8451 6.67938 23.4277 6.1613 23.2292C5.92989 23.1405 5.65361 23.1113 5.10102 23.0528C4.12233 22.9493 3.63298 22.8976 3.36167 22.7315C2.74346 22.3531 2.50047 21.5549 2.78441 20.8355C2.90901 20.5197 3.26909 20.1469 3.98925 19.4012L7.27417 16",stroke:"white","stroke-width":"2"},null,-1),t("path",{opacity:"0.5",d:"M16 21.4237L21.0287 26.6304C21.7488 27.3761 22.1088 27.7489 22.4137 27.8779C23.1087 28.1719 23.8795 27.9203 24.2449 27.2803C24.4053 26.9993 24.4553 26.4927 24.5553 25.4793C24.6117 24.9072 24.64 24.6211 24.7256 24.3815C24.9175 23.8451 25.3204 23.4277 25.8385 23.2292C26.07 23.1405 26.3463 23.1113 26.8988 23.0528C27.8775 22.9493 28.3668 22.8976 28.6381 22.7315C29.2564 22.3531 29.4993 21.5549 29.2155 20.8355C29.0908 20.5197 28.7308 20.1469 28.0105 19.4012L24.7256 16",stroke:"white","stroke-width":"2"},null,-1)]))}const v1=b(d1,[["render",m1]]),f1={key:0,class:"pulse-container"},B1=T({__name:"StepIndicator",props:{status:{},lessonType:{},size:{},variant:{}},setup(o){const e=o,n=r(()=>e.variant==="compact"),m=r(()=>n.value?"w-[54px] h-[54px]":"w-[38px] h-[38px] md:w-[46px] md:h-[46px] lg:w-[54px] lg:h-[54px]"),a=r(()=>n.value?"w-[29px] h-[29px]":"w-5 h-5 md:w-6 md:h-6 lg:w-[29px] lg:h-[29px]"),p={learn:"bg-primary100",practice:"bg-purple100",module:"bg-warning100",project:"bg-blue-100"},d=r(()=>{switch(e.status){case"start":return{bgColor:"bg-primary",iconComponent:a1};case"in-progress":return{bgColor:"bg-warning300",iconComponent:null};case"closed":return{bgColor:"bg-neutral200",iconComponent:null};case"next-lesson":return{bgColor:e.lessonType?p[e.lessonType]:"bg-neutral200",iconComponent:null};case"done":return{bgColor:"bg-primary",iconComponent:c1};case"finished":return{bgColor:"bg-primary",iconComponent:v1};default:return{bgColor:"bg-neutral200",iconComponent:null}}}),v=r(()=>!!d.value.iconComponent);return(i,f)=>(u(),C("div",{class:"step-indicator relative flex items-center justify-center",style:q(n.value?"--indicator-size: 54px":"")},[i.status==="in-progress"?(u(),C("div",f1,f[0]||(f[0]=[t("div",{class:"pulse-wave pulse-wave-1"},null,-1),t("div",{class:"pulse-wave pulse-wave-2"},null,-1),t("div",{class:"pulse-wave pulse-wave-3"},null,-1),t("div",{class:"pulse-core"},null,-1)]))):(u(),C("div",{key:1,class:c(["relative flex items-center justify-center rounded-full transition-all shadow-small",[m.value,d.value.bgColor]])},[v.value?(u(),B(O(d.value.iconComponent),{key:0,class:c(["relative z-10 text-white",a.value])},null,8,["class"])):w("",!0)],2))],4))}});export{a1 as I,T1 as _,B1 as a,M1 as g,b1 as u};
