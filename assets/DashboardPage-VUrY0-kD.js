import{s as V}from"./index-BC99mwhm.js";import{s as C}from"./index-CTnVs-KJ.js";import{s as D}from"./index-YlCG93E9.js";import{s as j}from"./index-DFWfzdRC.js";import{S as q}from"./schoolApi-BNauYU7S.js";import{e as A,r as k,h as E,o as _,q as S,w as o,c as L,k as s,t,i as c,l as n}from"./index-Cbwgae5u.js";import"./index-BF8Y-Var.js";import"./index-EUtgNGd6.js";const M={key:1,class:"flex flex-wrap px-8 pb-4"},z={class:"flex-1 flex flex-col gap-4"},F={class:"flex flex-col gap-1"},G={class:"text-3xl"},H={class:"px-1 text-sm"},I={class:"flex-1 flex flex-col gap-4"},J={class:"flex flex-col gap-1"},K={class:"text-md"},O={class:"relative flex gap-2 items-center text-sm font-bold"},Q={class:"absolute right-2"},R={class:"flex flex-col gap-1"},U={class:"text-md"},W={class:"relative flex gap-2 items-center text-sm font-bold"},X={class:"absolute right-2"},Y={class:"flex flex-col gap-1"},Z={class:"text-md"},ss={class:"relative flex gap-2 items-center text-sm font-bold"},es={class:"absolute right-2"},ds=A({__name:"DashboardPage",setup(ts){const r=k(!1),e=k(null);async function B(){try{r.value=!0;const{data:l}=await q.getSchool();e.value=l}catch(l){console.log(l)}finally{r.value=!1}}return E(B),(l,as)=>{const P=j,N=D,i=C,T=V;return _(),S(T,{class:"flex-grow flex flex-col gap-2"},{default:o(()=>{var u,d,m,p,f,v,x,h,g,b,y,w,$;return[r.value?(_(),S(P,{key:0,class:"flex justify-center"})):(_(),L("div",M,[s("div",z,[s("div",F,[s("div",G,t((u=e.value)==null?void 0:u.title_en),1),s("div",H,t(l.$t("pages.school.since"))+": "+t((d=e.value)==null?void 0:d.subscription_start.split("T")[0]),1)]),c(N,{class:"w-fit"},{default:o(()=>{var a;return[n(t((a=e.value)==null?void 0:a.access_type),1)]}),_:1}),s("div",null,t(l.$t("pages.school.country"))+": "+t((m=e.value)==null?void 0:m.country),1),s("div",null,t(l.$t("pages.school.address"))+": "+t((p=e.value)==null?void 0:p.address),1)]),s("div",I,[s("div",J,[s("div",K,t(l.$t("pages.school.classes")),1),s("div",O,[c(i,{value:(((f=e.value)==null?void 0:f.num_current_classes)??0)*(100/(((v=e.value)==null?void 0:v.num_max_classes)??1)),class:"flex-grow",pt:{label:{class:"text-sm"}}},{default:o(()=>{var a;return[n(t((a=e.value)==null?void 0:a.num_current_classes),1)]}),_:1},8,["value"]),s("div",Q,t((x=e.value)==null?void 0:x.num_max_classes),1)])]),s("div",R,[s("div",U,t(l.$t("pages.school.teachers")),1),s("div",W,[c(i,{value:(((h=e.value)==null?void 0:h.num_current_teachers)??0)*(100/(((g=e.value)==null?void 0:g.num_max_teachers)??1)),class:"flex-grow",pt:{label:{class:"text-sm"}}},{default:o(()=>{var a;return[n(t((a=e.value)==null?void 0:a.num_current_teachers),1)]}),_:1},8,["value"]),s("div",X,t((b=e.value)==null?void 0:b.num_max_teachers),1)])]),s("div",Y,[s("div",Z,t(l.$t("pages.school.students")),1),s("div",ss,[c(i,{value:(((y=e.value)==null?void 0:y.num_current_students)??0)*(100/(((w=e.value)==null?void 0:w.num_max_students)??1)),class:"flex-grow",pt:{label:{class:"text-sm"}}},{default:o(()=>{var a;return[n(t((a=e.value)==null?void 0:a.num_current_students),1)]}),_:1},8,["value"]),s("div",es,t(($=e.value)==null?void 0:$.num_max_students),1)])])])]))]}),_:1})}}});export{ds as default};
