import{_ as x,T as M}from"./CodeEditorView.vue_vue_type_script_setup_true_lang-BafO0I74.js";import{S as U}from"./SimulationView-Bll6O58K.js";import{e as y,r as b,ac as z,D as R,o as B,c as _,i as d,j as a,H as h,k as u}from"./index-DQn5ZYl0.js";const V={key:0,class:"flex flex-col w-full"},P={class:"h-full flex flex-col w-full overflow-hidden"},N={class:"flex-grow overflow-auto"},S={key:1,class:"flex flex-row w-full"},T={class:"flex flex-col w-full overflow-hidden"},j={class:"h-full flex-grow overflow-auto"},i=!0,H=y({__name:"PibodyViewer",props:{id:{},content:{},data:{},state:{},starting:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0}},emits:["run","save-answer"],setup(g,{emit:k}){var v;const l=g,f=k,s=b(""),t=b([]),n=((v=l.data)==null?void 0:v.neededModules)??[];z(()=>{var e,o,w,p,m;const r=((o=(e=l.state)==null?void 0:e.answer)==null?void 0:o.code)??"";s.value=l.starting||r==""?(w=l.content)==null?void 0:w.starting:r,t.value=((m=(p=l.state)==null?void 0:p.answer)==null?void 0:m.slots)??[]}),R([s,t],()=>{f("save-answer",{code:s.value,slots:t.value})});function c(){f("run")}return(r,e)=>l.horizontal?(B(),_("div",V,[d(a(U),{class:"w-full",slots:t.value,"onUpdate:slots":e[0]||(e[0]=o=>t.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[1]||(e[1]=o=>h(n)?n.value=o:null),id:l.id,horizontal:!0},null,8,["slots","neededModules","id"]),u("div",P,[u("div",N,[d(x,{code:s.value,"onUpdate:code":e[2]||(e[2]=o=>s.value=o),connectbuttons:i,"onUpdate:connectbuttons":e[3]||(e[3]=o=>i=o),id:l.id,onRun:c,class:"w-full h-full"},null,8,["code","id"])]),d(a(M),{id:l.id,class:"max-h-80 border-t"},null,8,["id"])])])):(B(),_("div",S,[u("div",T,[u("div",j,[d(x,{code:s.value,"onUpdate:code":e[4]||(e[4]=o=>s.value=o),connectbuttons:i,"onUpdate:connectbuttons":e[5]||(e[5]=o=>i=o),id:l.id,onRun:c,class:"w-full h-full"},null,8,["code","id"])]),d(a(M),{id:l.id,class:"max-h-80 border-t"},null,8,["id"])]),d(a(U),{class:"max-w-[467px] w-1/2",slots:t.value,"onUpdate:slots":e[6]||(e[6]=o=>t.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[7]||(e[7]=o=>h(n)?n.value=o:null),id:l.id,horizontal:!1},null,8,["slots","neededModules","id"])]))}});export{H as _};
