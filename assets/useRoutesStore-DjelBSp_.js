import{d as v,u as h,r as i,b as a}from"./index-BXslawiU.js";import{R as l}from"./routeApi-ynnPXWsk.js";import{m as g}from"./mapRouteFromDto-C1VVcbzq.js";function u(o,e){return o.filter(t=>t.routeType===e)}function T(o){return o.reduce((e,t)=>{const s=t.routeType;return e[s]||(e[s]=[]),e[s].push(t),e},{})}const S=v("routes-store",()=>{const o=h(),e=i([]),t=i(!1),s=i(!1);async function c(){try{t.value=!0;const{data:r}=await l.getRoutes();e.value=(r==null?void 0:r.map(g))??[]}catch(r){o.add({severity:"error",summary:r,life:2e3})}finally{t.value=!1}}async function f(r){try{s.value=!0;const{data:n}=await l.createRoute(r);await c(),o.add({severity:"success",summary:n.message,life:2e3})}catch(n){o.add({severity:"error",summary:n.response.data.error,life:2e3})}finally{s.value=!1}}const m=a(()=>T(e.value)),y=a(()=>u(e.value,"main")),p=a(()=>u(e.value,"side")),d=a(()=>u(e.value,"one_kit")),R=a(()=>u(e.value,"hackathon"));return{routes:e,isLoading:t,isCreating:s,loadRoutes:c,createRoute:f,groupedRoutes:m,mainRoutes:y,sideRoutes:p,oneKitRoutes:d,hackathonRoutes:R}});export{S as u};
