import{s as w,a as S}from"./index-DhP_zD1c.js";import{s as F}from"./index-Cb1az8Vm.js";import{a as N,b as V}from"./index-B3KJWMG2.js";import{s as I}from"./index-CZLjRxlh.js";import{e as k,r as m,h as x,o as u,c,i as t,w as a,k as s,t as l,v as C,l as f,aO as A}from"./index-DbpH5yrt.js";import{S as M}from"./schoolApi-B0l_35xI.js";import{m as T}from"./mapStudentFromDto-D4MSietx.js";import"./index-CK8IAwLo.js";import"./index-CnWAUXvu.js";import"./index-DSIfYLFE.js";import"./index-C-3mXpnj.js";import"./index-3pFj6Oor.js";import"./index-Dcr_aT8V.js";import"./index-BUKuc1-j.js";import"./index-BS2bBCc8.js";import"./index-BRn3Glmz.js";const B={class:"flex-grow min-w-0 pb-4 mb-4 bg-white rounded-md border"},D={class:"flex items-center"},O={class:"flex-grow flex gap-2 items-center"},P={key:0,class:"text-2xl"},ae=k({__name:"StudentsPage",setup(U){const p=m(!1),d=m([]),h=m(),n=m();(()=>{n.value={global:{value:null,matchMode:A.CONTAINS}}})();async function g(){try{p.value=!0;const{data:e}=await M.getStudents();d.value=(e==null?void 0:e.map(T))??[]}catch(e){console.log(e)}finally{p.value=!1}}return x(g),(e,r)=>{const v=N,_=I,b=V,$=F,i=w,y=S;return u(),c("div",B,[t(y,{ref_key:"dt",ref:h,filters:n.value,"onUpdate:filters":r[1]||(r[1]=o=>n.value=o),value:d.value,dataKey:"id",loading:p.value,scrollable:"",globalFilterFields:["name","email"],class:"rounded-md overflow-hidden w-full",paginator:"",rows:10,rowsPerPageOptions:[5,10,25]},{header:a(()=>[s("div",D,[s("div",O,[d.value?(u(),c("div",P,l(e.$t("pages.school.students"))+" - "+l(d.value.length),1)):C("",!0)]),t(b,null,{default:a(()=>[t(v,null,{default:a(()=>r[2]||(r[2]=[s("i",{class:"pi pi-search"},null,-1)])),_:1}),t(_,{modelValue:n.value.global.value,"onUpdate:modelValue":r[0]||(r[0]=o=>n.value.global.value=o),placeholder:e.$t("pages.school.search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:a(()=>[f(l(e.$t("pages.school.noStudentsFound")),1)]),loading:a(()=>[f(l(e.$t("pages.school.loadingStudents")),1)]),default:a(()=>[t(i,{field:"avatar",header:e.$t("pages.school.avatar"),sortable:""},{body:a(({data:o})=>[t($,{image:o.smallAvatarUrl},null,8,["image"])]),_:1},8,["header"]),t(i,{field:"name",header:e.$t("pages.school.name"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.name}`),1)]),_:1},8,["header"]),t(i,{field:"email",header:e.$t("pages.school.email"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.email}`),1)]),_:1},8,["header"]),t(i,{field:"class",header:e.$t("pages.school.class"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.className}`),1)]),_:1},8,["header"]),t(i,{field:"xp",header:e.$t("pages.school.xp"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.xp}`),1)]),_:1},8,["header"])]),_:1},8,["filters","value","loading"])])}}});export{ae as default};
