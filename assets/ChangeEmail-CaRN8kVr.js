import{s as I}from"./index-D7vQivom.js";import{s as N}from"./index-BYY5fTp2.js";import{d as F,a as S,ah as T,r as f,aU as U,o as t,c as V,b as l,w as m,e as c,j as d,f as v,g as M,h as b,F as j,s as z}from"./index-CD-RZOao.js";import{s as D}from"./index-DBBDKR6P.js";import{d as O,s as P,c as R}from"./index-Ljzkmy5v.js";import{_ as Y}from"./VerifyEmailDialog.vue_vue_type_script_setup_true_lang-CXKgdWYM.js";import"./index-CHdp4beW.js";import"./index-CuINv_ZP.js";import"./index-DOT7IeUi.js";import"./index-DBceM-0I.js";const q={class:"flex flex-col gap-2"},A={class:"flex gap-2"},G={class:"flex flex-col gap-1"},H={key:1,class:"flex gap-2"},se=F({__name:"ChangeEmail",setup(J){const k=S(),{user:a}=T(k),i=f(""),s=f(!0),u=f(!1);return U(()=>{var p;i.value=((p=a.value)==null?void 0:p.email)??""}),(p,e)=>{const y=O,$=P,C=R,w=D,n=z,B=N,E=I;return t(),V(j,null,[l(E,{class:"flex-grow",header:"Change email"},{default:m(()=>{var r,_,g;return[c("div",q,[c("div",A,[c("div",G,[l(C,null,{default:m(()=>[l(y,{class:"pi pi-envelope"}),l($,{id:"email",autocomplete:"off",variant:"filled",placeholder:"Email",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),disabled:s.value,class:"w-96"},null,8,["modelValue","disabled"])]),_:1}),(r=d(a))!=null&&r.verified?b("",!0):(t(),v(w,{key:0,for:"email",severity:"error",size:"small",variant:"simple"},{default:m(()=>e[6]||(e[6]=[M("Your email is not verified")])),_:1}))]),(_=d(a))!=null&&_.verified?b("",!0):(t(),v(B,{key:0,severity:"danger"},{default:m(()=>[l(n,{label:"Verify your email",severity:"info",onClick:e[1]||(e[1]=o=>u.value=!0)})]),_:1}))]),s.value?(t(),v(n,{key:0,label:"Edit email",class:"w-fit",onClick:e[2]||(e[2]=o=>s.value=!1),disabled:(g=d(a))==null?void 0:g.verified},null,8,["disabled"])):(t(),V("div",H,[l(n,{label:"Cancel",class:"w-fit",onClick:e[3]||(e[3]=o=>{var x;s.value=!0,i.value=((x=d(a))==null?void 0:x.email)??""}),variant:"outlined"}),l(n,{label:"Save email",class:"w-fit",onClick:e[4]||(e[4]=o=>s.value=!0)})]))])]}),_:1}),l(Y,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=r=>u.value=r)},null,8,["modelValue"])],64)}}});export{se as default};
