import{s as w}from"./index-GfgKeo5T.js";import{d as b,r as p,aX as x,o as d,f,w as n,c as P,b as e,h as k,s as S}from"./index-D-EZhA5_.js";import{d as U,s as $,c as h}from"./index-Dknz9p_q.js";import{s as B}from"./index-QH6iwqx3.js";import{S as m}from"./index-npflP2qz.js";import"./index-DMSteDCh.js";import"./index-DXLCZSju.js";import"./index-Dtx9JcMJ.js";const C={key:1,class:"flex flex-col gap-2"},q=b({__name:"EditProfile",setup(I){const l=p(null),c=p(!1),s=p(!1);async function v(){c.value=!0;try{const{data:t}=await m.getUserProfile();l.value=t}catch(t){console.log(t)}finally{c.value=!1}}async function _(){if(l.value){s.value=!0;try{await m.updateUserProfile(l.value)}catch(t){console.log(t)}finally{s.value=!1}}}return x(v),(t,a)=>{const V=B,i=U,r=$,u=h,g=S,y=w;return d(),f(y,{class:"flex-grow",header:"Edit profile"},{default:n(()=>[c.value?(d(),f(V,{key:0})):l.value?(d(),P("div",C,[e(u,null,{default:n(()=>[e(i,{class:"pi pi-pencil"}),e(r,{id:"in_label",autocomplete:"off",variant:"filled",placeholder:"Name",modelValue:l.value.name,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value.name=o),class:"w-96"},null,8,["modelValue"])]),_:1}),e(u,null,{default:n(()=>[e(i,{class:"pi pi-pencil"}),e(r,{id:"in_label",autocomplete:"off",variant:"filled",placeholder:"Surname",modelValue:l.value.surname,"onUpdate:modelValue":a[1]||(a[1]=o=>l.value.surname=o),class:"w-96"},null,8,["modelValue"])]),_:1}),e(u,null,{default:n(()=>[e(i,{class:"pi pi-pencil"}),e(r,{id:"in_label",autocomplete:"off",variant:"filled",placeholder:"City",modelValue:l.value.city,"onUpdate:modelValue":a[2]||(a[2]=o=>l.value.city=o),class:"w-96"},null,8,["modelValue"])]),_:1}),e(u,null,{default:n(()=>[e(i,{class:"pi pi-pencil"}),e(r,{id:"in_label",autocomplete:"off",variant:"filled",placeholder:"School",modelValue:l.value.school,"onUpdate:modelValue":a[3]||(a[3]=o=>l.value.school=o),class:"w-96"},null,8,["modelValue"])]),_:1}),e(g,{label:"Save profile",class:"w-fit",onClick:a[4]||(a[4]=o=>_()),loading:s.value,disabled:s.value},null,8,["loading","disabled"])])):k("",!0)]),_:1})}}});export{q as default};
